<!DOCTYPE html>
<html lang="ru-RU">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width">
  <meta name="format-detection" content="telephone=no">
  <meta name='robots' content='index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1' />

	<title>Многопоточность в Golang - Горутины на примерах</title>
	<meta name="description" content="Синтаксис для создания горутин в Golang. Каналы, горутины и конвейеры для многопоточности в Golang. Ключевое слово go для создания потоков в Go." />
	<link rel="canonical" href="https://golangs.org/goroutines" />
	<meta property="og:locale" content="ru_RU" />
	<meta property="og:type" content="article" />
	<meta property="og:title" content="Многопоточность в Golang - Горутины на примерах" />
	<meta property="og:description" content="Синтаксис для создания горутин в Golang. Каналы, горутины и конвейеры для многопоточности в Golang. Ключевое слово go для создания потоков в Go." />
	<meta property="og:url" content="https://golangs.org/goroutines" />
	<meta property="og:site_name" content="Golang" />
	<meta property="article:published_time" content="2020-03-26T18:38:58+00:00" />
	<meta property="article:modified_time" content="2021-01-25T12:56:20+00:00" />
	<meta property="og:image" content="https://golangs.org/wp-content/uploads/2020/03/gorutiny-go.png" />
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:label1" content="Написано автором">
	<meta name="twitter:data1" content="Vasile Buldumac">
	<meta name="twitter:label2" content="Примерное время для чтения">
	<meta name="twitter:data2" content="3 минуты">


<link rel='stylesheet' id='urvanov_syntax_highlighter-css'  href='https://golangs.org/wp-content/plugins/urvanov-syntax-highlighter/css/min/urvanov_syntax_highlighter.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-turnwall-css'  href='https://golangs.org/wp-content/plugins/urvanov-syntax-highlighter/themes/turnwall/turnwall.css' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='https://golangs.org/wp-content/plugins/urvanov-syntax-highlighter/fonts/monaco.css' type='text/css' media='all' />
<link rel='stylesheet' id='inline-spoilers_style-css'  href='https://golangs.org/wp-content/plugins/inline-spoilers/styles/inline-spoilers-default.css' type='text/css' media='all' />
<link rel='stylesheet' id='theme-style-css'  href='https://golangs.org/wp-content/themes/knowhow-childtheme/style.css' type='text/css' media='all' />
<style id='theme-style-inline-css' type='text/css'>
 
				/* Links */
				a, 
				a:visited { color:#00bedb; }
				a:hover, 
				.widget a:hover,
				#primary-nav ul a:hover,
				#footer-nav a:hover,
				#breadcrumbs a:hover { color:#009dbc; }
				
				/* Theme Color */
				#commentform #submit, 
				.st_faq h2.active .action, 
				.widget_categories ul span, 
				.pagination .current, 
				.tags a, 
				.page-links span,
				#comments .comment-meta .author-badge,
				input[type="reset"],
				input[type="submit"],
				input[type="button"] { background: #74cedb; }
				#live-search #searchsubmit, input[type="submit"] { background-color: #74cedb; }
				.tags a:before { border-color: transparent #74cedb transparent transparent; }

				
				
				
</style>
<link rel='stylesheet' id='theme-font-css'  href='https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,700&#038;subset=latin,latin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome-css'  href='https://golangs.org/wp-content/themes/knowhow/css/font-awesome.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='shortcodes-css'  href='https://golangs.org/wp-content/themes/knowhow/framework/shortcodes/shortcodes.css' type='text/css' media='all' />
<script type='text/javascript' src='https://golangs.org/wp-includes/js/jquery/jquery.min.js' id='jquery-core-js'></script>
<script type='text/javascript' src='https://golangs.org/wp-includes/js/jquery/jquery-migrate.min.js' id='jquery-migrate-js'></script>
<script type='text/javascript' id='urvanov_syntax_highlighter_js-js-extra'>
/* <![CDATA[ */
var UrvanovSyntaxHighlighterSyntaxSettings = {"version":"2.8.22","is_admin":"0","ajaxurl":"https:\/\/golangs.org\/wp-admin\/admin-ajax.php","prefix":"urvanov-syntax-highlighter-","setting":"urvanov-syntax-highlighter-setting","selected":"urvanov-syntax-highlighter-setting-selected","changed":"urvanov-syntax-highlighter-setting-changed","special":"urvanov-syntax-highlighter-setting-special","orig_value":"data-orig-value","debug":""};
var UrvanovSyntaxHighlighterSyntaxStrings = {"copy":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 %s \u0434\u043b\u044f \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f, %s \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u0432\u043a\u0438","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='https://golangs.org/wp-content/plugins/urvanov-syntax-highlighter/js/min/urvanov_syntax_highlighter.min.js' id='urvanov_syntax_highlighter_js-js'></script>
<script type='text/javascript' src='https://golangs.org/wp-content/plugins/remove-disqus-ads/assets/js/frontend.js' id='remove_disqus_ads-frontend-js'></script>
<style>.pseudo-clearfy-link { color: #008acf; cursor: pointer;}.pseudo-clearfy-link:hover { text-decoration: none;}</style><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<meta name="verify-admitad" content="c5299d813f" /><!--[if lt IE 9]><script src="https://golangs.org/wp-content/themes/knowhow/js/html5.js"></script><![endif]--><!--[if (gte IE 6)&(lte IE 8)]><script src="https://golangs.org/wp-content/themes/knowhow/js/selectivizr-min.js"></script><![endif]--><link rel="shortcut icon" href="https://golangs.org/wp-content/uploads/2020/02/logo.png"/>
</head>
<body class="post-template-default single single-post postid-1276 single-format-standard">

  <!-- #site-container -->
  <div id="site-container" class="clearfix">

          <!-- #primary-nav-mobile -->
      <nav id="primary-nav-mobile">
        <a class="menu-toggle clearfix" href="#"><i class="fa fa-reorder"></i></a>
        <ul id="mobile-menu" class="clearfix"><li id="menu-item-1904" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-1904"><a href="https://golangs.org/go/install-go">Установка Golang</a>
<ul class="sub-menu">
	<li id="menu-item-1905" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-1905"><a href="https://golangs.org/setup-on-windows">Установка Go на Windows</a></li>
	<li id="menu-item-1908" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-1908"><a href="https://golangs.org/install-on-ubuntu-18-04">Установка Go на Ubuntu</a></li>
	<li id="menu-item-1907" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-1907"><a href="https://golangs.org/install-on-debian-10">Установка Go на Debian</a></li>
	<li id="menu-item-1988" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-1988"><a href="https://golangs.org/install-go-on-macos">Установка Go на MacOS</a></li>
	<li id="menu-item-1906" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-1906"><a href="https://golangs.org/install-on-centos-7">Установка Go на CentOS</a></li>
</ul>
</li>
<li id="menu-item-1642" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1642"><a href="https://golangs.org/go/kurs-izucheniya-golang-dlya-nachinayuschih">Курс Go</a></li>
<li id="menu-item-2145" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2145"><a href="https://golangs.org/go/web-app-go">Создание сайта</a></li>
<li id="menu-item-1643" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1643"><a href="https://golangs.org/go/string-examples">Строки</a></li>
<li id="menu-item-1644" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1644"><a href="https://golangs.org/go/time">Время</a></li>
<li id="menu-item-1645" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1645"><a href="https://golangs.org/go/numbers">Числа</a></li>
</ul>      </nav>
      <!-- /#primary-nav-mobile -->
    
    <!-- #header -->
    <header id="site-header" class="clearfix" role="banner">
      <div class="ht-container">

        <!-- #logo -->
        <div id="logo">
                    <a title="Golang" href="https://golangs.org">
                          Golang                      </a>
                  </div>
        <!-- /#logo -->

                  <!-- #primary-nav -->
          <nav id="primary-nav" role="navigation" class="clearfix">
            <ul id="menu-primary-nav" class="nav sf-menu clearfix"><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-1904"><a href="https://golangs.org/go/install-go">Установка Golang</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-post_type menu-item-object-post menu-item-1905"><a href="https://golangs.org/setup-on-windows">Установка Go на Windows</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-post menu-item-1908"><a href="https://golangs.org/install-on-ubuntu-18-04">Установка Go на Ubuntu</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-post menu-item-1907"><a href="https://golangs.org/install-on-debian-10">Установка Go на Debian</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-post menu-item-1988"><a href="https://golangs.org/install-go-on-macos">Установка Go на MacOS</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-post menu-item-1906"><a href="https://golangs.org/install-on-centos-7">Установка Go на CentOS</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1642"><a href="https://golangs.org/go/kurs-izucheniya-golang-dlya-nachinayuschih">Курс Go</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2145"><a href="https://golangs.org/go/web-app-go">Создание сайта</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1643"><a href="https://golangs.org/go/string-examples">Строки</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1644"><a href="https://golangs.org/go/time">Время</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1645"><a href="https://golangs.org/go/numbers">Числа</a></li>
</ul>          </nav>
          <!-- #primary-nav -->
        
      </div>
    </header>
    <!-- /#header -->

    <!-- #live-search -->
    <div id="live-search">
      <div class="ht-container">
        <div id="search-wrap">
          <form role="search" method="get" id="searchform" class="clearfix" action="https://golangs.org/">
            <input type="text" onfocus="if (this.value == 'Введите поисковый запрос...') {this.value = '';}" onblur="if (this.value == '')  {this.value = 'Введите поисковый запрос...';}" value="Введите поисковый запрос..." name="s" id="s" autocapitalize="off" autocorrect="off" autocomplete="off" />
            <i class="live-search-loading fa fa-spinner fa-spin"></i>
            <button type="submit" id="searchsubmit">
              <i class='fa fa-search'></i><span>Поиск</span>
            </button>
          </form>
        </div>
      </div>
    </div>
<!-- /#live-search -->

<!-- #primary -->
<div id="primary" class="sidebar-right clearfix"> 
  <!-- .ht-container -->
  <div class="ht-container">

    <!-- #content -->
    <section id="content" role="main">
      
      <!-- #page-header -->
      <header id="page-header" class="clearfix">
        <h1 class="page-title">Горутины и конкурентность &#8212; Многопоточность в Go</h1>
      </header>
      <!-- /#page-header --> 

      
      
                
        
        
        <article id="post-1276" class="clearfix post-1276 post type-post status-publish format-standard hentry category-kurs-izucheniya-golang-dlya-nachinayuschih">
          
         <!-- .entry-header -->
         <header class="entry-header">
          
                              
       </header>
       <!-- /.entry-header -->
       
       
       <div class="entry-content">
        <p>В Go независимо запущенная задача называется <strong>горутиной</strong>. В данном уроке мы научимся запускать несколько горутин сразу и связывать их между собой через <strong>каналы</strong>. Горутины похожи на <em>корутины</em>, <em>процессы</em> или <em>потоки</em> в других языках, хотя у них есть много своих особенностей. Их создание рационально, оно значительно упрощает процесс управления многими конкурентными операциями.</p>
<p>После прочтения данного урока вы сможете:</p><div class='code-block code-block-1' style='margin: 8px 0; clear: both;'>
<div>

<img src="https://golangs.org/wp-content/uploads/2020/04/go-read.png" style="margin-bottom: -6px; padding-left: 10px;">

<div class="row" style="background-color: #6bd7e3; border: 5px solid #6e5144;">

<div class="column col-half 1" style="padding: 7px; text-align: center;">

<span style="color: #ffffff; font-size: 20px; font-weight: bold;"><strong style="color: yellow;">Премиум</strong> 👑 канал по Golang</span>

<p>Рекомендуем вам <u>супер TELEGRAM канал по Golang</u> где собраны все материалы для качественного изучения языка. Удивите всех своими знаниями на собеседовании! 😎 </p>

<p style="text-align:center">
<a href="https://t.me/golang_org" target="_blank" rel="nofollow" style="padding: 10px; background-color: #2e7508; color: #ffffff; border-radius: 10px;">Подписаться на канал</a>
</p>


</div>

<div class="column col-half 2" style="padding: 7px; text-align: center;">

<span style="color: #ffffff; font-size: 20px; font-weight: bold;">Уроки, статьи и Видео</span>

<p>Мы публикуем в паблике ВК и Telegram качественные обучающие материалы для быстрого изучения Go. Подпишитесь на нас в ВК и в Telegram. Поддержите сообщество Go программистов.</p>

<p>

<a href="https://vk.com/golang_org" rel="nofollow" target="_blank" style="padding: 10px; background-color: #102fad; color: #ffffff; border-radius: 10px;">Go в ВК</a>

<a href="https://t.me/golang_talk" rel="nofollow" target="_blank" style="padding: 10px; background-color: #0b5e5c; color: #ffffff; border-radius: 10px;">ЧАТ в Telegram</a>

</p>


</div>

</div>


<div style="padding-top: 15px;">
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-6166316474194592"
     data-ad-slot="9745894866"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

</div></div>

<ul>
<li>Создавать горутины;</li>
<li>Использовать каналы для связи;</li>
<li>Понять канальные конвейеры.</li>
</ul>
<p>Рассмотрим фабрику разработчиков Go, или гоферов. Все они очень заняты созданием различных элементов. Ну, почти все. В углу один из гоферов вздремнул &#8212; а может просто глубоко задумался. Вот стоит важный гофер &#8212; отдает указы всем остальным. Они суетятся и выполняют приказы, а по завершении сообщают о результате. Некоторые куда-то отправляют вещи с фабрики. Другие наоборот, что-то получают.</p>
<h3>Содержание статьи</h3>
<ul>
<li><a href="#start">Запуск горутины в Golang</a></li>
<li><a href="#multi">Создание нескольких горутин</a></li>
<li><a href="#kanal-go">Каналы Golang в многопоточности</a></li>
<li><a href="#select">Использование select в канале горутин</a></li>
<li><a href="#kanal">Каналы nil в Golang ничего не делают</a></li>
<li><a href="#block">Блокировка и deadlock в Golang</a></li>
<li><a href="#pipeline">Объединение горутин в конвейер</a></li>
</ul>
<p>В предыдущих уроках мы были похожи на единственного работника фабрики Go, просто занимались своими собственными делами и никого не беспокоили. Однако в большинстве случаев работа в Go больше напоминает фабрику, где для достижения общей цели совершается много независимых друг от друга действий. <em>Конкурентные</em> задачи включают получение данных из веб сервера, вычисление миллионов знаков числа Пи или же управление рукой робота.</p>
<p>Представьте процесс написания программы, что выполняет последовательность действий. На каждое действие может потребоваться время, что включает ожидание того, что что-то произойдет до выполнения. Может быть создан обычный последовательный код. Но что, если вам нужно сделать две или более последовательности одновременно.</p>
<p>К примеру, вы хотите, чтобы одна часть программы занималась списком адресов электронной почты и отправляла письма, а другая часть ждала входящих сообщений и сохраняла их в базе данных. Как это можно сделать?</p>
<p>В некоторых языках программирования в коде пришлось бы сделать много изменений. Но в Go можно использовать одинаковый код для каждой <strong>независимой задачи</strong>. Горутины позволяют запускать любое количество действий одновременно.</p>
<h2 id="start">Запуск горутины в Golang</h2>
<p>Запустить горутину так же просто, как и <a title="func функции в Golang" href="https://golangs.org/func" target="_blank" rel="noopener noreferrer">вызвать функцию</a>. Вам нужно поставить ключевое слово <code>go</code> перед вызовом.</p>
<p>Горутина в Листинге 1 напоминает спящего гофера фабрики. Он почти ничего не делает, хотя при задействовании оператора <code>Sleep</code> он мог бы сделать некоторые серьезные задачи. Когда возвращается функция <code>main</code>, все горутины в программе сразу останавливаются, поэтому нам нужно подождать, пока спящий гофер выведет свое сообщение <code>"… snore …"</code>. Мы подождем подольше, если требуется.</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e022011518516" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title">Листинг 1</span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
package main

import (
    "fmt"
    "time"
)

func main() {
    go sleepyGopher() // Начало горутины
    time.Sleep(4 * time.Second) // Ожидание храпа гофера
} // Здесь все горутины останавливаются 

func sleepyGopher() {
    time.Sleep(3 * time.Second) // гофер спит
    fmt.Println("... snore ...")
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e022011518516-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e022011518516-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e022011518516-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e022011518516-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e022011518516-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e022011518516-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e022011518516-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e022011518516-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e022011518516-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e022011518516-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e022011518516-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e022011518516-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e022011518516-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e022011518516-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e022011518516-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e022011518516-16">16</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e022011518516-1"><span class="crayon-st">package</span><span class="crayon-h"> </span><span class="crayon-e">main</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e022011518516-2">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e022011518516-3"><span class="crayon-st">import</span><span class="crayon-h"> </span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e022011518516-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"fmt"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e022011518516-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"time"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e022011518516-6"><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e022011518516-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e022011518516-8"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e022011518516-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">go</span><span class="crayon-h"> </span><span class="crayon-e">sleepyGopher</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">// Начало горутины</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e022011518516-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-e">Sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">4</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-v">Second</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">// Ожидание храпа гофера</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e022011518516-11"><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// Здесь все горутины останавливаются </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e022011518516-12">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e022011518516-13"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">sleepyGopher</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e022011518516-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-e">Sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-v">Second</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">// гофер спит</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e022011518516-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fmt</span><span class="crayon-sy">.</span><span class="crayon-e">Println</span><span class="crayon-sy">(</span><span class="crayon-s">"... snore ..."</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e022011518516-16"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p><strong>Вопросы для проверки:</strong></p>
<ol>
<li>Если вы хотите выполнить сразу несколько задач в Go, что нужно использовать?</li>
<li>Какое ключевое слово используется для запуска новой независимой задачи?</li>
</ol>
<div><div class="spoiler-wrap"><div class="spoiler-head no-icon  collapsed" title="Развернуть">Ответ</div><div class="spoiler-body" style="display: none;">
<ol>
<li>Горутины;</li>
<li><code>go</code></li>
</ol>
<p></p></div><noscript><div class="spoiler-body">
<ol>
<li>Горутины;</li>
<li><code>go</code></li>
</ol>
<p></p></div></noscript></div></div>
<h2 id="multi">Создание нескольких горутин в Golang</h2>
<p>При каждом использовании ключевого слова <code>go</code> начинается новая горутина. Все появления горутин должны запускаться одновременно. Технически они могут не запускаться одновременно, это зависит от процессора.</p>
<p>По факту все процессоры обычно тратят некоторое время на одну горутину перед переходом к следующей, используя так называемое <em>разделение времени</em>, или <em>time sharing</em>. Как именно это происходит известно только <strong>среде выполнения Go</strong>, а также используемой операционной системе и процессору. Всегда лучше быть готовым к тому, что операции из разных горутин могут запускаться в хаотичной очереди.</p>
<p>Функция <code>main</code> в Листинге 2 начинается с пятью горутинами <code>sleepyGopher</code>. Все они спят по три секунды, а затем выводят на экран одно и то же.</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e02c630085308" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title">Листинг 2</span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
package main

import (
    "fmt"
    "time"
)

func main() {
    for i := 0; i &lt; 5; i++ {
        go sleepyGopher()
    }
    time.Sleep(4 * time.Second)
}

func sleepyGopher() {
    time.Sleep(3 * time.Second)
    fmt.Println("... snore ...")
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e02c630085308-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e02c630085308-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e02c630085308-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e02c630085308-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e02c630085308-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e02c630085308-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e02c630085308-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e02c630085308-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e02c630085308-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e02c630085308-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e02c630085308-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e02c630085308-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e02c630085308-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e02c630085308-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e02c630085308-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e02c630085308-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e02c630085308-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e02c630085308-18">18</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e02c630085308-1"><span class="crayon-st">package</span><span class="crayon-h"> </span><span class="crayon-e">main</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e02c630085308-2">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e02c630085308-3"><span class="crayon-st">import</span><span class="crayon-h"> </span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e02c630085308-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"fmt"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e02c630085308-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"time"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e02c630085308-6"><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e02c630085308-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e02c630085308-8"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e02c630085308-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">i</span><span class="crayon-o">++</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e02c630085308-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">go</span><span class="crayon-h"> </span><span class="crayon-e">sleepyGopher</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e02c630085308-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e02c630085308-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-e">Sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">4</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-v">Second</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e02c630085308-13"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e02c630085308-14">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e02c630085308-15"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">sleepyGopher</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e02c630085308-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-e">Sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-v">Second</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e02c630085308-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fmt</span><span class="crayon-sy">.</span><span class="crayon-e">Println</span><span class="crayon-sy">(</span><span class="crayon-s">"... snore ..."</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e02c630085308-18"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>Мы можем выяснить кто выполнится первым, передав аргумент каждой горутине. <strong>Передача аргумента горутине</strong> похожа на передачу аргумента любой другой функции: значение копируется и передается как параметр.</p>
<p>При запуске следующего листинга вы увидите, что хотя мы запустили все горутины по очереди от нуля до девяти, они все завершились в разное время. Если вы будете запускать код не на Go playground, то каждый раз будет получен иной результат.</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e02e502659331" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title">Листинг 3</span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
func main() {
    for i := 0; i &lt; 5; i++ {
        go sleepyGopher(i)
    }
    time.Sleep(4 * time.Second)
}

func sleepyGopher(id int) {
    time.Sleep(3 * time.Second)
    fmt.Println("... ", id, " snore ...")
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e02e502659331-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e02e502659331-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e02e502659331-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e02e502659331-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e02e502659331-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e02e502659331-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e02e502659331-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e02e502659331-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e02e502659331-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e02e502659331-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e02e502659331-11">11</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e02e502659331-1"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e02e502659331-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">i</span><span class="crayon-o">++</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e02e502659331-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">go</span><span class="crayon-h"> </span><span class="crayon-e">sleepyGopher</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e02e502659331-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e02e502659331-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-e">Sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">4</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-v">Second</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e02e502659331-6"><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e02e502659331-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e02e502659331-8"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">sleepyGopher</span><span class="crayon-sy">(</span><span class="crayon-e">id </span><span class="crayon-t">int</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e02e502659331-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-e">Sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-v">Second</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e02e502659331-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fmt</span><span class="crayon-sy">.</span><span class="crayon-e">Println</span><span class="crayon-sy">(</span><span class="crayon-s">"... "</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">" snore ..."</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e02e502659331-11"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>В данном коде есть проблема. Он ждет четыре секунды, хотя нужно подождать только три секунды. Если горутины не только спят но и делают другие операции, то мы не сможем узнать, сколько им потребуется времени для завершения работы. Нам потребуется найти способ, через который код сможет узнать, когда горутины завершаются. К счастью, для этого в Go есть <strong>каналы</strong>.</p>
<p><strong>Вопрос для проверки:</strong></p>
<p>В каком порядке запускаются разные горутины?</p>
<div><div class="spoiler-wrap"><div class="spoiler-head no-icon  collapsed" title="Развернуть">Ответ</div><div class="spoiler-body" style="display: none;">
<p>В хаотичном порядке.</p>
<p></p></div><noscript><div class="spoiler-body">
<p>В хаотичном порядке.</p>
<p></p></div></noscript></div></div>
<h2 id="kanal-go">Каналы общения между горутинами в Golang</h2>
<p>Канал может использоваться для безопасного отправления значений от одной горутины к другой. Подумайте о канале как о системе пневматической почты в старых офисах. Если опустить в емкость предмет, он переместится по трубе на другой конец, где его получит другой работник.</p>
<p>Как и другие типы в Go, каналы могут использоваться как <a title="var переменные в Golang" href="https://golangs.org/osnovy-golang#const-var" target="_blank" rel="noopener noreferrer">переменные</a> которые переданы функциям, <a title="struct в Golang" href="https://golangs.org/struct" target="_blank" rel="noopener noreferrer">сохраненные в структуре</a>, и делать многое другое.</p>
<p>Для создания канала используется встроенная функция <code>make</code>, та же самая, что используется для <a title="map в Golang" href="https://golangs.org/map" target="_blank" rel="noopener noreferrer">создания карт</a> и <a href="https://golangs.org/slice-array">срезов</a>. У каналов есть тип, что уточняется во время их создания. Следующий канал может отправлять и принимать только <a title="работа с integer в Golang" href="https://golangs.org/integer" target="_blank" rel="noopener noreferrer">целочисленные integer</a> значения:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e031705289207" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
c := make(chan int)</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e031705289207-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e031705289207-1"><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">make</span><span class="crayon-sy">(</span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>Каналу можно отправить значения, а также получить отправленные значения. Отправлять и получать значения канал может через оператор левой стрелки (<code>&lt;-</code>).</p>
<p>Для <strong>отправки значения</strong> стрелка указывается в направлении выражения канала, будто стрелка говорит значению справа перетечь в канал. Операция отправления подождет пока что-то (в другой горутине) попытается получить что-то на том же канале. В то время как оно ждет, отправляющий элемент больше не может ничего делать, хотя все остальные горутины продолжат выполняться свободно (если они не ждут операций с каналом). Следующий код посылает значение 99:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e03b250913664" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
c &lt;- 99</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e03b250913664-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e03b250913664-1"><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-cn">99</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>Для получения значения из канала стрелка указывает в другую сторону от канала (в левую часть от канала). В следующем коде мы получаем значение из канала <code>c</code> и сохраняем это значение а переменную <code>r</code>. Аналогично отправке каналу, получатель подождет, пока другая горутина не попытается отправить что-то тому же каналу:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e03c271487588" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
r := &lt;-c</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e03c271487588-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e03c271487588-1"><span class="crayon-v">r</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-v">c</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
<p></p>
<blockquote><p><strong>На заметку:</strong> Операции приема канала пишутся на отдельной строке, хотя это не обязательно. Операция приема канала может использоваться везде, где любое другое выражение используется.</p></blockquote>
<p>Код в Листинге 4 создает канал и передает его пяти спящим горутинам. Затем он ждет получения пяти сообщений, одним из которых является начатая горутина. Каждая горутина спит и затем отправляет значения, тем самым идентифицируя себя. Когда процесс достигает функции <code>main</code>, мы точно знаем, что все гоферы закончат сон, и возвращение произойдет без помехи для сна гофера. К примеру, скажем, что программа хранит результаты какого-то числового вычисления в онлайн хранилище. Может сохраниться несколько вещей сразу, и мы не хотим завершить программу пока все результаты не будут успешно сохранены.</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e03d073109022" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title">Листинг 4</span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
func main() {
    c := make(chan int) // Делает канал для связи
    for i := 0; i &lt; 5; i++ {
        go sleepyGopher(i, c)
    }
    for i := 0; i &lt; 5; i++ {
        gopherID := &lt;-c // Получает значение от канала
        fmt.Println("gopher ", gopherID, " has finished sleeping")
    }
}

func sleepyGopher(id int, c chan int) { // Объявляет канал как аргумент
    time.Sleep(3 * time.Second)
    fmt.Println("... ", id, " snore ...")
    c &lt;- id // Отправляет значение обратно к main
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e03d073109022-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e03d073109022-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e03d073109022-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e03d073109022-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e03d073109022-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e03d073109022-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e03d073109022-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e03d073109022-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e03d073109022-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e03d073109022-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e03d073109022-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e03d073109022-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e03d073109022-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e03d073109022-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e03d073109022-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e03d073109022-16">16</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e03d073109022-1"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e03d073109022-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">make</span><span class="crayon-sy">(</span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">// Делает канал для связи</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e03d073109022-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">i</span><span class="crayon-o">++</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e03d073109022-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">go</span><span class="crayon-h"> </span><span class="crayon-e">sleepyGopher</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">c</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e03d073109022-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e03d073109022-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">i</span><span class="crayon-o">++</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e03d073109022-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">gopherID</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-c">// Получает значение от канала</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e03d073109022-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fmt</span><span class="crayon-sy">.</span><span class="crayon-e">Println</span><span class="crayon-sy">(</span><span class="crayon-s">"gopher "</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">gopherID</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">" has finished sleeping"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e03d073109022-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e03d073109022-10"><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e03d073109022-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e03d073109022-12"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">sleepyGopher</span><span class="crayon-sy">(</span><span class="crayon-e">id </span><span class="crayon-t">int</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">c</span><span class="crayon-h"> </span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// Объявляет канал как аргумент</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e03d073109022-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-e">Sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-v">Second</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e03d073109022-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fmt</span><span class="crayon-sy">.</span><span class="crayon-e">Println</span><span class="crayon-sy">(</span><span class="crayon-s">"... "</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">" snore ..."</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e03d073109022-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-c">// Отправляет значение обратно к main</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e03d073109022-16"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>Квадратные элементы на Схеме 1 иллюстрируют горутины, а круг представляет канал. Ссылка из горутины к каналу помечена названием переменной, что отсылается к каналу. Направление ссылки представляет способ, который горутина использует для канала. Когда стрелка указывает на горутину, горутина читает из канала.</p>
<p><img loading="lazy" class="size-full wp-image-1286 aligncenter" src="https://golangs.org/wp-content/uploads/2020/03/gorutiny-go.png" alt="горутины go" width="532" height="370" srcset="https://golangs.org/wp-content/uploads/2020/03/gorutiny-go.png 532w, https://golangs.org/wp-content/uploads/2020/03/gorutiny-go-300x209.png 300w, https://golangs.org/wp-content/uploads/2020/03/gorutiny-go-60x42.png 60w, https://golangs.org/wp-content/uploads/2020/03/gorutiny-go-150x104.png 150w" sizes="(max-width: 532px) 100vw, 532px" /></p>
<p style="text-align: center;"><strong>Схема 1:</strong> Горутины общаются через один канал связи</p>
<p><strong>Вопросы для проверки:</strong></p>
<ol>
<li>Какое выражение можно использовать для отправки строки <code>"hello world"</code> на канал под названием <code>с</code>?</li>
<li>Как бы вы получили значение и присвоили его переменной?</li>
</ol>
<div><div class="spoiler-wrap"><div class="spoiler-head no-icon  collapsed" title="Развернуть">Ответы</div><div class="spoiler-body" style="display: none;">
<ol>
<li><code>c &lt;- "hello world"</code></li>
<li><code>v = &lt;-c</code></li>
</ol>
<p></p></div><noscript><div class="spoiler-body">
<ol>
<li><code>c &lt;- "hello world"</code></li>
<li><code>v = &lt;-c</code></li>
</ol>
<p></p></div></noscript></div></div>
<h2 id="select">Использование select в канале горутин</h2>
<p>В предыдущем примере мы использовали один канал для ожидания ответа от нескольких горутин. Он хорошо работает, когда все горутины возвращают один и тот же тип значения, но так происходит не всегда. Часто нам нужно подождать два или более значения разных типов.</p>
<p>Одним из примеров этого является случай ожидания некоторых значений по каналу, но ждать слишком долго нельзя. Возможно, мы немного нетерпеливы по отношению к сонным гоферам, и терпение это не вечно. Или нам еще может потребоваться установить тайм-аут сетевого запроса после несколько секунд, а не несколько минут.</p>
<p>К счастью стандартная библиотека Go предоставляет полезную функцию <code>time.After</code>, которая может нам значительно помочь. Она возвращает канал, который получает значение по прошествии некоторого времени (горутина, что отправляет значение, является частью среды выполнения Go).</p>
<p>Нам нужно продолжать получать значения от сонных гоферов, пока они не закончат спать, или у нас не кончится терпение. Это означает, что нам нужно одновременно ждать таймера одного и другого канала. Оператор <code>select</code> позволяет нам это сделать.</p>
<p>Оператор <code>select</code> выглядит как оператор <a href="https://golangs.org/go-for-if-else-switch#switch" target="_blank" rel="noopener noreferrer">switch</a>. Каждый <code>case</code> внутри <code>select</code> содержит канал получения или отправки. <code>select</code> ждет завершения одного <code>case</code>, а затем запускает его и связанный с ним оператор <code>case</code>. Как будто <code>select</code> смотрит на оба канала сразу и действует, когда видит, что что-то случается с любым из них.</p>
<p>В следующем листинге используется <code>time.After</code> для создания канала тайм-аута, а затем используется <code>select</code> для ожидания каналом сонных гоферов и тайм-аута канала.</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e03e194917703" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title">Листинг 5</span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
timeout := time.After(2 * time.Second)
for i := 0; i &lt; 5; i++ {
    select { // Оператор select
    case gopherID := &lt;-c: // Ждет, когда проснется гофер
        fmt.Println("gopher ", gopherID, " has finished sleeping")
    case &lt;-timeout: // Ждет окончания времени
        fmt.Println("my patience ran out")
        return // Сдается и возвращается
    }
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e03e194917703-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e03e194917703-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e03e194917703-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e03e194917703-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e03e194917703-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e03e194917703-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e03e194917703-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e03e194917703-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e03e194917703-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e03e194917703-10">10</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e03e194917703-1"><span class="crayon-v">timeout</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-e">After</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-v">Second</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e03e194917703-2"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">i</span><span class="crayon-o">++</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e03e194917703-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">select</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// Оператор select</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e03e194917703-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-v">gopherID</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-v">c</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-c">// Ждет, когда проснется гофер</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e03e194917703-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fmt</span><span class="crayon-sy">.</span><span class="crayon-e">Println</span><span class="crayon-sy">(</span><span class="crayon-s">"gopher "</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">gopherID</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">" has finished sleeping"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e03e194917703-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-v">timeout</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-c">// Ждет окончания времени</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e03e194917703-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fmt</span><span class="crayon-sy">.</span><span class="crayon-e">Println</span><span class="crayon-sy">(</span><span class="crayon-s">"my patience ran out"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e03e194917703-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-c">// Сдается и возвращается</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e03e194917703-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e03e194917703-10"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<blockquote><p><strong>На заметку:</strong> Когда в операторе <code>select</code> нет ни одного случая <code>case</code>, он будет ждать вечно. Это может оказаться полезным для остановки возвращения функции <code>main</code>, когда вы начинаете горутины, что должны перестать выполняться на неопределенное время.</p></blockquote>
<p>Не очень интересно, когда все гоферы спять в точности по три секунды, потому что терпение всегда заканчивается до момента их пробуждения. Гоферы в следующем листинге спять случайное количество времени. При запуске вы увидите, что некоторые гоферы просыпаются вовремя, а некоторые нет.</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e044450965241" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title">Листинг 6</span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
func sleepyGopher(id int, c chan int) {
    time.Sleep(time.Duration(rand.Intn(4000)) * time.Millisecond)
    c &lt;- id
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e044450965241-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e044450965241-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e044450965241-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e044450965241-4">4</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e044450965241-1"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">sleepyGopher</span><span class="crayon-sy">(</span><span class="crayon-e">id </span><span class="crayon-t">int</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">c</span><span class="crayon-h"> </span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e044450965241-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-e">Sleep</span><span class="crayon-sy">(</span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-e">Duration</span><span class="crayon-sy">(</span><span class="crayon-v">rand</span><span class="crayon-sy">.</span><span class="crayon-e">Intn</span><span class="crayon-sy">(</span><span class="crayon-cn">4000</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-v">Millisecond</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e044450965241-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-i">id</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e044450965241-4"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>Данный паттерн полезен, когда вам нужно ограничить время на выполнения определенной операции. Поместив действие внутрь горутины и отправив его каналу, когда тот завершен, можно добиться фиксированного времени практически для всего в Go.</p>
<p>Хотя мы перестали ждать горутин, если мы не вернулись из функции <code>main</code>, они все еще будут существовать, занимая память. Если возможно, лучше завершить их работу.</p>
<p>Пока все хорошо. Когда функция <code>main</code> получила что-то на канале, она нашла гофера, отправляющего значение каналу. Но что произойдет, если мы случайно попытаемся прочитать предполагаемые горутины, которые перестали работать и ничего не отправляют? Или если мы попытаемся что-то отправить каналу, а не получить?</p>
<p><strong>Вопросы для проверки:</strong></p>
<ol>
<li>Значение какого рода возвратит <code>time.After</code>?</li>
<li>Что произойдет, если вы что-то отправите или получите на канал <a title="что означает nil в Golang" href="https://golangs.org/nil" target="_blank" rel="noopener noreferrer">nil</a>?</li>
<li>Что есть в каждом случае <code>case</code> с <code>select</code>?</li>
</ol>
<div><div class="spoiler-wrap"><div class="spoiler-head no-icon  collapsed" title="Развернуть">Ответ</div><div class="spoiler-body" style="display: none;">
<ol>
<li>Канал;</li>
<li>Он заблокируется навечно;</li>
<li>Канальная операция.</li>
</ol>
<p></p></div><noscript><div class="spoiler-body">
<ol>
<li>Канал;</li>
<li>Он заблокируется навечно;</li>
<li>Канальная операция.</li>
</ol>
<p></p></div></noscript></div></div>
<h2 id="kanal">Каналы nil в Golang ничего не делают</h2>
<p>Из-за того, что вам нужно явно создать каналы через <code>make</code>, вам может показаться интересным, что произойдет, если вы используете значения каналов, что не были созданы. Как и в случае с картами, срезами и <a title="pointers в Golang" href="https://golangs.org/pointers" target="_blank" rel="noopener noreferrer">указателями</a>, каналы могут быть <code>nil</code>. <code>nil</code> является их нулевым значением по умолчанию.</p>
<p>Если вы попробуете использовать канал <code>nil</code>, он не вызовет сбой &#8212; вместо этого операция (отправки или приема) заблокируется навечно, как канал, что никогда ничего не отправляет или не получает. Исключением является <code>close</code>, который подробнее будет описан далее. Если вы попытаетесь закрыть канал nil, <a title="обработка ошибок в Golang" href="https://golangs.org/errors" target="_blank" rel="noopener noreferrer">произойдет сбой</a>.</p>
<p>С первого взгляда это может показаться не очень полезным, но это не совсем так. Рассмотрим цикл с оператором <code>select</code>. Мы не хотим ждать все каналы, упомянутые в <code>select</code>, на протяжении цикла. К примеру, мы можем просто попытаться отправить что-то в канал, когда у нас будет готовое значение. Это можно сделать, используя переменную канала, что не является nil только тогда, когда нам нужно отправить значение.</p>
<h2 id="block">Блокировка и deadlock в Golang</h2>
<p>Когда горутина ожидает отправки или получения данных из канала, мы говорим, что она заблокирована. Это похоже на то, как если бы мы написали какой-то код с циклом, который выполняется вечно, ничего не делая, и на первый взгляд они выглядят точно так же. Но если вы запустите бесконечный цикл в программе на ноутбуке, вы можете обнаружить, что вентилятор начинает гудеть, компьютер нагревается, потому что он совершает много работы. Если сравнить, то заблокированная горутина не требует ресурсов (кроме небольшого объема памяти, используемой самой горутиной). Она тихо ждет, пока все, что ее блокирует, перестанет ее блокировать.</p>
<p>Когда одна или несколько горутин блокируются из-за того, что никогда не произойдет, это называется тупиком или deadlock. Программа будет зависать или сбиваться. Deadlock может быть  вызван чем-то простым:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e046689680047" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
func main() {
    c := make(chan int)
    &lt;-c
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e046689680047-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e046689680047-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e046689680047-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e046689680047-4">4</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e046689680047-1"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e046689680047-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">make</span><span class="crayon-sy">(</span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e046689680047-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-i">c</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e046689680047-4"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>В больших программах deadlock может включать в себя сложную серию зависимостей между горутинами.</p>
<p>Хотя теоретически трудно защититься, на практике можно придерживаться нескольких простых правил (которые мы скоро рассмотрим). Создать программу без deadlock несложно. Когда сталкиваетесь с тупиком (deadlock), Go может показать вам состояние всех горутин, поэтому зачастую выяснить причину происходящего не составляет труда.</p>
<p><strong>Вопрос для проверки: </strong></p>
<p>Что делает заблокированная горутина?</p>
<div><div class="spoiler-wrap"><div class="spoiler-head no-icon  collapsed" title="Развернуть">Ответ</div><div class="spoiler-body" style="display: none;">
<p>Она ничего не делает. Она ждет.</p>
<p></p></div><noscript><div class="spoiler-body">
<p>Она ничего не делает. Она ждет.</p>
<p></p></div></noscript></div></div>
<h2 id="pipeline">Объединение горутин в конвейер</h2>
<p>Пока что наши гоферы были сонными. Они спали, потом проснулись и пересылали только по одному значению своему каналу. Но не все гоферы на фабрике такие же. Некоторые выстраиваются в линию, получая предмет от другого гофера в очереди, обрабатывают его, а затем посылают следующему гоферу в очереди. Хотя работа каждого гофера довольно проса, финал их объединения может стать поразительным.</p>
<p>Данная техника называется конвейером (pipeline). Он полезен для производства крупных потоков данных без использования больших объемов памяти. Хотя каждая горутина может содержать только одно значение за раз, со временем она может обработать множество значений. Конвейер очень полезен помогая решать многие проблемы более простыми способами.</p>
<p>У нас уже есть все инструменты, необходимые для объединения горутин в конвейер. Значения переместятся в конвейер, передаваясь от одной горутины к другой. Работник на конвейере получает значение от соседа в верхнем потоке, делает с ним что-то, а затем передает его в нижний поток.</p>
<p>Создадим объединение работников, что <a title="примеры обработки строк в Golang" href="https://golangs.org/go/string-examples" target="_blank" rel="noopener noreferrer">обрабатывают строки</a>. Гофер в начале ряда объединения показан в Листинге 7 &#8212; источник потока. Данный гофер не читает значения, он только отправляет их. В другой программе может задействоваться <strong>чтение данных из файла</strong>, базы данных или сети, но здесь мы просто отправим несколько произвольных значений. Чтобы сказать гоферам в нижнем потоке, что значений больше нет, источник отправляет контрольное значение, пустую строку, для указания, что все готово и больше работы не будет.</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e04b198171393" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title">Листинг 7</span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
func sourceGopher(downstream chan string) {
    for _, v := range []string{"hello world", "a bad apple", "goodbye all"} {
        downstream &lt;- v
    }
    downstream &lt;- ""
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e04b198171393-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e04b198171393-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e04b198171393-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e04b198171393-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e04b198171393-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e04b198171393-6">6</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e04b198171393-1"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">sourceGopher</span><span class="crayon-sy">(</span><span class="crayon-e">downstream </span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e04b198171393-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">_</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">range</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-t">string</span><span class="crayon-sy">{</span><span class="crayon-s">"hello world"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"a bad apple"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"goodbye all"</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e04b198171393-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">downstream</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-i">v</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e04b198171393-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e04b198171393-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">downstream</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-s">""</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e04b198171393-6"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>Гофер из Листинга 8 отфильтровывает все плохое из потока. Он читает элемент из верхнего канала и посылает его в канал нижнего потока только тога, когда в значении нет строки <code>"bad"</code>. Когда он видит пустую строку, то гофер-фильтр завершает свою работу, отправив пустую строку следующему гоферу вниз по линии, тем самым заканчивая работу как кости в домино.</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e04e197010803" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title">Листинг 8</span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
func filterGopher(upstream, downstream chan string) {
    for {
        item := &lt;-upstream
        if item == "" {
            downstream &lt;- ""
            return
        }
        if !strings.Contains(item, "bad") {
            downstream &lt;- item
        }
    }
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e04e197010803-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e04e197010803-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e04e197010803-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e04e197010803-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e04e197010803-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e04e197010803-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e04e197010803-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e04e197010803-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e04e197010803-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e04e197010803-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e04e197010803-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e04e197010803-12">12</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e04e197010803-1"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">filterGopher</span><span class="crayon-sy">(</span><span class="crayon-v">upstream</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">downstream </span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e04e197010803-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e04e197010803-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">item</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">upstream</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e04e197010803-4"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">item</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e04e197010803-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">downstream</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-s">""</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e04e197010803-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e04e197010803-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e04e197010803-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-v">strings</span><span class="crayon-sy">.</span><span class="crayon-e">Contains</span><span class="crayon-sy">(</span><span class="crayon-v">item</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bad"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e04e197010803-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">downstream</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-i">item</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e04e197010803-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e04e197010803-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e04e197010803-12"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>Гофер, что находится в конце конвейера &#8212; гофер вывода &#8212; показан в Листинге 9. У этого гофера нет ничего ниже него в потоке. В другой программе результаты можно было бы сохранить в файл или вывести в терминал итог рассмотренных значений. Здесь гофер-вывода показывает все увиденные значения.</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e04f574313029" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title">Листинг 9</span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
func printGopher(upstream chan string) {
    for {
        v := &lt;-upstream
        if v == "" {
            return
        }
        fmt.Println(v)
    }
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e04f574313029-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e04f574313029-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e04f574313029-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e04f574313029-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e04f574313029-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e04f574313029-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e04f574313029-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e04f574313029-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e04f574313029-9">9</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e04f574313029-1"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">printGopher</span><span class="crayon-sy">(</span><span class="crayon-e">upstream </span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e04f574313029-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e04f574313029-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">upstream</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e04f574313029-4"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e04f574313029-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e04f574313029-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e04f574313029-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fmt</span><span class="crayon-sy">.</span><span class="crayon-e">Println</span><span class="crayon-sy">(</span><span class="crayon-v">v</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e04f574313029-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e04f574313029-9"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>Давайте объединим работников-гоферов вместе. У нас три стадии в конвейере (источник, фильтр, вывод), но только два канала. Нам не нужно начинать <strong>новую горутину</strong> за последнего гофера, потому что мы хотим подождать его выполнения перед выходом из целой программы. Если у последнего гофера все же запустить горутину, то программа завершится сразу после запуска, так как это конец программы. Горутины просто не успеют отработать.</p>
<p>Когда функция <code>printGopher</code> завершает свою работу, то нам известно, что две другие горутины так же завершили свою работу, и мы можем вернуться в <code>main</code>, завершив всю программу, как показано в следующем листинге, а также на Схеме 2.</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e050729046094" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title">Листинг 10</span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
func main() {
    c0 := make(chan string)
    c1 := make(chan string)
    go sourceGopher(c0)
    go filterGopher(c0, c1)
    printGopher(c1)
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e050729046094-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e050729046094-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e050729046094-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e050729046094-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e050729046094-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e050729046094-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e050729046094-7">7</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e050729046094-1"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e050729046094-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c0</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">make</span><span class="crayon-sy">(</span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e050729046094-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c1</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">make</span><span class="crayon-sy">(</span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e050729046094-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">go</span><span class="crayon-h"> </span><span class="crayon-e">sourceGopher</span><span class="crayon-sy">(</span><span class="crayon-v">c0</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e050729046094-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">go</span><span class="crayon-h"> </span><span class="crayon-e">filterGopher</span><span class="crayon-sy">(</span><span class="crayon-v">c0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">c1</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e050729046094-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">printGopher</span><span class="crayon-sy">(</span><span class="crayon-v">c1</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e050729046094-7"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p><img loading="lazy" class="size-full wp-image-1289 aligncenter" src="https://golangs.org/wp-content/uploads/2020/03/konveyer-go.png" alt="конвейер go" width="620" height="92" srcset="https://golangs.org/wp-content/uploads/2020/03/konveyer-go.png 620w, https://golangs.org/wp-content/uploads/2020/03/konveyer-go-300x45.png 300w, https://golangs.org/wp-content/uploads/2020/03/konveyer-go-60x9.png 60w, https://golangs.org/wp-content/uploads/2020/03/konveyer-go-150x22.png 150w" sizes="(max-width: 620px) 100vw, 620px" /></p>
<p style="text-align: center;"><strong>Схема 2</strong>: Конвейер потоков в Go</p>
<p>На данный момент у нас есть одна проблема с кодом для конвейера. Мы используем пустую строку как способ обозначения, что больше нет данных для обработки. Но что, если нам нужно обработать пустую строку, предположим, у нее другое значение? Вместо строк мы могли бы отправить значение структуры, содержащее как нужную строку, так и булево поле, говорящее, является ли значение последним.</p>
<p>Но есть способ лучше. Go позволяет закрыть канал через <code>close</code> для обозначения, что значения больше не будут отправляться.</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e051471853491" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
close(c)</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e051471853491-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e051471853491-1"><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-v">c</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>После закрытия канала вы не можете записать в него новые значения (будет сбой при попытке), и любое чтение вернется сразу с нулевым значением для типа (в данном случае это пустая строка).</p>
<blockquote><p><strong>На заметку:</strong> Будьте осторожны! Если вы читаете из закрытого канала в цикле, не проверив закрыт ли он, цикл станет вечным, сжигая много процессорного времени. Убедитесь, что вы знаете, какие каналы могут быть закрыты.</p></blockquote>
<p>Как узнать, был ли канал закрыт? Следующим образом:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e054578019293" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
v, ok := &lt;-c</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e054578019293-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e054578019293-1"><span class="crayon-v">v</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ok</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-v">c</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>Когда мы присваиваем результат двум переменным, вторая переменная сообщит, было ли чтение из канала успешным. У закрытого канала будет значение <code>false</code>.</p>
<p>С этими новыми инструментами мы можем легко закрыть весь конвейер. Следующий листинг показывает источник горутины во главе конвейера.</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e055710838839" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title">Листинг 11</span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
func sourceGopher(downstream chan string) {
    for _, v := range []string{"hello world", "a bad apple", "goodbye all"} {
        downstream &lt;- v
    }
    close(downstream)
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e055710838839-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e055710838839-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e055710838839-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e055710838839-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e055710838839-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e055710838839-6">6</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e055710838839-1"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">sourceGopher</span><span class="crayon-sy">(</span><span class="crayon-e">downstream </span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e055710838839-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">_</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">range</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-t">string</span><span class="crayon-sy">{</span><span class="crayon-s">"hello world"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"a bad apple"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"goodbye all"</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e055710838839-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">downstream</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-i">v</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e055710838839-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e055710838839-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-v">downstream</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e055710838839-6"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>Следующий листинг показывает, как теперь выглядит фильтр горутины.</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e056248641242" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title">Листинг 12</span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
func filterGopher(upstream, downstream chan string) {
    for {
        item, ok := &lt;-upstream
        if !ok {
            close(downstream)
            return
        }
        if !strings.Contains(item, "bad") {
            downstream &lt;- item
        }
    }
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e056248641242-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e056248641242-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e056248641242-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e056248641242-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e056248641242-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e056248641242-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e056248641242-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e056248641242-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e056248641242-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e056248641242-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e056248641242-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e056248641242-12">12</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e056248641242-1"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">filterGopher</span><span class="crayon-sy">(</span><span class="crayon-v">upstream</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">downstream </span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e056248641242-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e056248641242-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">item</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ok</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">upstream</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e056248641242-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-e">ok</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e056248641242-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-v">downstream</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e056248641242-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e056248641242-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e056248641242-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-v">strings</span><span class="crayon-sy">.</span><span class="crayon-e">Contains</span><span class="crayon-sy">(</span><span class="crayon-v">item</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bad"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e056248641242-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">downstream</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-i">item</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e056248641242-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e056248641242-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e056248641242-12"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>Данный паттерн чтения из канала, пока тот не закроется, является достаточно популярным, у него даже есть сокращенный вариант. Если мы используем канал в операторе <code>range</code>, он будет читать значения из канала, пока тот не будет закрыт.</p>
<p>Это значит, что код можно переписать проще с циклом <code>range</code>. Следующий код делает то же самое, что и предыдущий.</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e057896315045" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title">Листинг 13</span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
func filterGopher(upstream, downstream chan string) {
    for item := range upstream {
        if !strings.Contains(item, "bad") {
            downstream &lt;- item
        }
    }
    close(downstream)
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e057896315045-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e057896315045-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e057896315045-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e057896315045-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e057896315045-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e057896315045-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e057896315045-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e057896315045-8">8</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e057896315045-1"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">filterGopher</span><span class="crayon-sy">(</span><span class="crayon-v">upstream</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">downstream </span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e057896315045-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">item</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">range</span><span class="crayon-h"> </span><span class="crayon-e">upstream</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e057896315045-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-v">strings</span><span class="crayon-sy">.</span><span class="crayon-e">Contains</span><span class="crayon-sy">(</span><span class="crayon-v">item</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bad"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e057896315045-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">downstream</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-i">item</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e057896315045-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e057896315045-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e057896315045-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-v">downstream</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e057896315045-8"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>Финальный гофер в конвейере (pipeline) читает все сообщения и выводит их, одно за другим, как показано в следующем примере.</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e058824513423" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title">Листинг 14</span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
func printGopher(upstream chan string) {
    for v := range upstream {
        fmt.Println(v)
    }
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e058824513423-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e058824513423-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e058824513423-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e058824513423-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e058824513423-5">5</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e058824513423-1"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">printGopher</span><span class="crayon-sy">(</span><span class="crayon-e">upstream </span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e058824513423-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">range</span><span class="crayon-h"> </span><span class="crayon-e">upstream</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e058824513423-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fmt</span><span class="crayon-sy">.</span><span class="crayon-e">Println</span><span class="crayon-sy">(</span><span class="crayon-v">v</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e058824513423-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e058824513423-5"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p><strong>Вопросы для проверки:</strong></p>
<ol>
<li>Какое значение вы увидите при чтении из уже закрытого канала?</li>
<li>Как можно проверить, был ли закрыт канал?</li>
</ol>
<div><div class="spoiler-wrap"><div class="spoiler-head no-icon  collapsed" title="Развернуть">Ответы</div><div class="spoiler-body" style="display: none;">
<ol>
<li>Нулевое значение;</li>
<li>Используйте оператор присваивания с двумя значениями: <code>v, ok := &lt;-c</code></li>
</ol>
<p></p></div><noscript><div class="spoiler-body">
<ol>
<li>Нулевое значение;</li>
<li>Используйте оператор присваивания с двумя значениями: <code>v, ok := &lt;-c</code></li>
</ol>
<p></p></div></noscript></div></div>
<h3>Заключение</h3>
<ul>
<li>Оператор <code>go</code> начинает <strong>новую горутину</strong>, запускаясь последовательно;</li>
<li>Каналы используются для отправки значений между горутинами;</li>
<li>Канал создается через <code>make(chan string)</code>;</li>
<li>Оператор <code>&lt;-</code> принимает значения от канала (когда используется перед значением канала);</li>
<li>Оператор <code>&lt;-</code> отправляет значения каналу (когда расположен между значением канала и значением того что будет отправлено);</li>
<li>Функция <code>close</code> закрывает канал;</li>
<li>Оператор range читает все отправленные значения из канала, пока тот не будет закрыт.</li>
</ul>
<p><strong>Итоговое задание для проверки #1: </strong></p>
<p>Скучно, когда одинаковая строка кода повторяется из раза в раз. Напишите элемент конвейера (горутину), что запоминает предыдущее значение и только отправляет значение на следующий этап конвейера, если оно отличается от того, что пришло ранее. Чтобы все упростить, можете предположить, что первая строка никогда не бывает простой.</p>
<div><div class="spoiler-wrap"><div class="spoiler-head no-icon  collapsed" title="Развернуть">Решение #1</div><div class="spoiler-body" style="display: none;"><br />
<!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e05a019179663" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
package main

import (
    "fmt"
)

func main() {
    c0 := make(chan string)
    c1 := make(chan string)
    go sourceGopher(c0)
    go removeDuplicates(c0, c1)
    printGopher(c1)
}

func sourceGopher(downstream chan string) {
    for _, v := range []string{"a", "b", "b", "c", "d", "d", "d", "e"} {
        downstream &lt;- v
    }
    close(downstream)
}

func removeDuplicates(upstream, downstream chan string) {
    prev := ""
    for v := range upstream {
        if v != prev {
            downstream &lt;- v
            prev = v
        }
    }
    close(downstream)
}

func printGopher(upstream chan string) {
    for v := range upstream {
        fmt.Println(v)
    }
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-23">23</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-24">24</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-25">25</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-26">26</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-27">27</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-28">28</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-29">29</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-30">30</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-31">31</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-32">32</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-33">33</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-34">34</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-35">35</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-36">36</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05a019179663-37">37</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-1"><span class="crayon-st">package</span><span class="crayon-h"> </span><span class="crayon-e">main</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05a019179663-2">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-3"><span class="crayon-st">import</span><span class="crayon-h"> </span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05a019179663-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"fmt"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-5"><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05a019179663-6">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-7"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05a019179663-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c0</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">make</span><span class="crayon-sy">(</span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c1</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">make</span><span class="crayon-sy">(</span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05a019179663-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">go</span><span class="crayon-h"> </span><span class="crayon-e">sourceGopher</span><span class="crayon-sy">(</span><span class="crayon-v">c0</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">go</span><span class="crayon-h"> </span><span class="crayon-e">removeDuplicates</span><span class="crayon-sy">(</span><span class="crayon-v">c0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">c1</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05a019179663-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">printGopher</span><span class="crayon-sy">(</span><span class="crayon-v">c1</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-13"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05a019179663-14">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-15"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">sourceGopher</span><span class="crayon-sy">(</span><span class="crayon-e">downstream </span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05a019179663-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">_</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">range</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-t">string</span><span class="crayon-sy">{</span><span class="crayon-s">"a"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"b"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"b"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"c"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"d"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"d"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"d"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"e"</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">downstream</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-i">v</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05a019179663-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-v">downstream</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05a019179663-20"><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05a019179663-22"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">removeDuplicates</span><span class="crayon-sy">(</span><span class="crayon-v">upstream</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">downstream </span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">prev</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05a019179663-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">range</span><span class="crayon-h"> </span><span class="crayon-e">upstream</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-e">prev</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05a019179663-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">downstream</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-i">v</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">prev</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">v</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05a019179663-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05a019179663-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-v">downstream</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-31"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05a019179663-32">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-33"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">printGopher</span><span class="crayon-sy">(</span><span class="crayon-e">upstream </span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05a019179663-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">range</span><span class="crayon-h"> </span><span class="crayon-e">upstream</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fmt</span><span class="crayon-sy">.</span><span class="crayon-e">Println</span><span class="crayon-sy">(</span><span class="crayon-v">v</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05a019179663-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05a019179663-37"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<br />
</div><noscript><div class="spoiler-body"><br />
[crayon-608055679e05a019179663/]<br />
</div></noscript></div></div>
<p><strong>Итоговое задание для проверки #2: </strong></p>
<p>Иногда проще оперировать словами, а не предложениями. Напишите конвейер, что принимает строки и разделяет их на слова (можете использовать функцию <code>Fields</code> из пакета <code>strings</code>), а также отправляет все слова, одно за другим, на следующую стадию конвейера.</p>
<div><div class="spoiler-wrap"><div class="spoiler-head no-icon  collapsed" title="Развернуть">Решение #2</div><div class="spoiler-body" style="display: none;"><br />
<!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-608055679e05c752395405" class="urvanov-syntax-highlighter-syntax crayon-theme-turnwall urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 15px !important;height: 22.5px !important; line-height: 22.5px !important;"><div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Включить/Отключить нумерацию строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Включить/Отключить подсветку кода"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Включить/Отключить перенос строк"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div><div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Показать код в новом окне"><div class="urvanov-syntax-highlighter-button-icon"></div></div><span class="crayon-language">Go</span></div></div>
			<div class="crayon-info" style="min-height: 21px !important; line-height: 21px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 15px !important; line-height: 20px !important;">
package main

import (
    "fmt"
    "strings"
)

func main() {
    c0 := make(chan string)
    c1 := make(chan string)
    go sourceGopher(c0)
    go splitWords(c0, c1)
    printGopher(c1)
}

func sourceGopher(downstream chan string) {
    for _, v := range []string{"hello world", "a bad apple", "goodbye all"}
{

        downstream &lt;- v
    }
    close(downstream)
}

func splitWords(upstream, downstream chan string) {
    for v := range upstream {
        for _, word := range strings.Fields(v) {
            downstream &lt;- word
        }
    }
    close(downstream)
}

func printGopher(upstream chan string) {
    for v := range upstream {
        fmt.Println(v)
    }
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-23">23</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-24">24</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-25">25</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-26">26</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-27">27</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-28">28</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-29">29</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-30">30</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-31">31</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-32">32</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-33">33</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-34">34</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-35">35</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-36">36</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-37">37</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-608055679e05c752395405-38">38</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-1"><span class="crayon-st">package</span><span class="crayon-h"> </span><span class="crayon-e">main</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-2">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-3"><span class="crayon-st">import</span><span class="crayon-h"> </span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"fmt"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"strings"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-6"><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-8"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c0</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">make</span><span class="crayon-sy">(</span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c1</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">make</span><span class="crayon-sy">(</span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">go</span><span class="crayon-h"> </span><span class="crayon-e">sourceGopher</span><span class="crayon-sy">(</span><span class="crayon-v">c0</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">go</span><span class="crayon-h"> </span><span class="crayon-e">splitWords</span><span class="crayon-sy">(</span><span class="crayon-v">c0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">c1</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">printGopher</span><span class="crayon-sy">(</span><span class="crayon-v">c1</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-14"><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-16"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">sourceGopher</span><span class="crayon-sy">(</span><span class="crayon-e">downstream </span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">_</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">range</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-t">string</span><span class="crayon-sy">{</span><span class="crayon-s">"hello world"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"a bad apple"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"goodbye all"</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-18"><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">downstream</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-i">v</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-v">downstream</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-23"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-24">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-25"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">splitWords</span><span class="crayon-sy">(</span><span class="crayon-v">upstream</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">downstream </span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">range</span><span class="crayon-h"> </span><span class="crayon-e">upstream</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">_</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">word</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">range</span><span class="crayon-h"> </span><span class="crayon-v">strings</span><span class="crayon-sy">.</span><span class="crayon-e">Fields</span><span class="crayon-sy">(</span><span class="crayon-v">v</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">downstream</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-t">word</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-v">downstream</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-32"><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-33">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-34"><span class="crayon-st">func</span><span class="crayon-h"> </span><span class="crayon-e">printGopher</span><span class="crayon-sy">(</span><span class="crayon-e">upstream </span><span class="crayon-st">chan</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">range</span><span class="crayon-h"> </span><span class="crayon-e">upstream</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fmt</span><span class="crayon-sy">.</span><span class="crayon-e">Println</span><span class="crayon-sy">(</span><span class="crayon-v">v</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-608055679e05c752395405-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-608055679e05c752395405-38"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<br />
</div><noscript><div class="spoiler-body"><br />
[crayon-608055679e05c752395405/]<br />
</div></noscript></div></div>
<div class="saboxplugin-wrap" itemtype="http://schema.org/Person" itemscope itemprop="author"><div class="saboxplugin-gravatar"><a  href='https://golangs.org/author/golang'><img src="https://golangs.org/wp-content/uploads/2021/01/v.jpg" alt="" itemprop="image"></a></div><div class="saboxplugin-authorname"><a href="https://golangs.org/author/golang" class="vcard author" rel="author" itemprop="url"><span class="fn" itemprop="name">Vasile Buldumac</span></a></div><div class="saboxplugin-desc"><div itemprop="description"><p>Администрирую данный сайт с целью распространения как можно большего объема обучающего материала для языка программирования Go. В IT с 2008 года, с тех пор изучаю и применяю интересующие меня технологии. Проявляю огромный интерес к машинному обучению и анализу данных.</p>
<p><strong>E-mail</strong>: vasile.buldumac@ati.utm.md</p>
<p><strong>Образование</strong></p>
<p>Технический Университет Молдовы (<em>utm.md</em>), Факультет Вычислительной Техники, Информатики и Микроэлектроники</p>
<ul>
<li>2014 — 2018 Universitatea Tehnică a Moldovei, ИТ-Инженер. Тема дипломной работы «<em>Автоматизация покупки и продажи криптовалюты используя технический анализ»</em></li>
<li>2018 — 2020 Universitatea Tehnică a Moldovei, Магистр, Магистерская диссертация «<em>Идентификация человека в киберпространстве по фотографии лица»</em></li>
</ul>
</div></div><div class="clearfix"></div><div class="saboxplugin-socials "><a target="_self" href="https://www.linkedin.com/in/vbuldumac/" rel="nofollow" class="saboxplugin-icon-grey"><svg aria-hidden="true" class="sab-linkedin" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M100.3 480H7.4V180.9h92.9V480zM53.8 140.1C24.1 140.1 0 115.5 0 85.8 0 56.1 24.1 32 53.8 32c29.7 0 53.8 24.1 53.8 53.8 0 29.7-24.1 54.3-53.8 54.3zM448 480h-92.7V334.4c0-34.7-.7-79.2-48.3-79.2-48.3 0-55.7 37.7-55.7 76.7V480h-92.8V180.9h89.1v40.8h1.3c12.4-23.5 42.7-48.3 87.9-48.3 94 0 111.3 61.9 111.3 142.3V480z"></path></svg></span></a></div></div><div class='code-block code-block-4' style='margin: 8px 0; clear: both;'>
<div style="text-align: center;">

<!-- Yandex.RTB R-A-670162-1 -->
<div id="yandex_rtb_R-A-670162-1"></div>
<script type="text/javascript">
    (function(w, d, n, s, t) {
        w[n] = w[n] || [];
        w[n].push(function() {
            Ya.Context.AdvManager.render({
                blockId: "R-A-670162-1",
                renderTo: "yandex_rtb_R-A-670162-1",
                async: true
            });
        });
        t = d.getElementsByTagName("script")[0];
        s = d.createElement("script");
        s.type = "text/javascript";
        s.src = "//an.yandex.ru/system/context.js";
        s.async = true;
        t.parentNode.insertBefore(s, t);
    })(this, this.document, "yandexContextAsyncCallbacks");
</script>

</div></div>
<!-- AI CONTENT END 1 -->
              </div>
      
            
    </article>

       
      

<div id="disqus_thread"></div>


</section>
<!-- #content -->

    <!-- #sidebar -->
  <aside id="sidebar" role="complementary">
    <div id="gruz0_posts_in_current_widget-2" class="widget widget_gruz0_posts_in_current_widget clearfix"><h4 class="widget-title"><span>Уроки из раздела</span></h4><ul class="category-posts" style="list-style-type: decimal;"><li><a href="https://golangs.org/go-beginning" title="Начало программирования в Go &#8212; что нужно знать?">Начало программирования в Go &#8212; что нужно знать?</a></li><li><a href="https://golangs.org/golang-intro" title="Что такое Go? Go Playground, пакеты, функции и скобки в Golang">Что такое Go? Go Playground, пакеты, функции и скобки в Golang</a></li><li><a href="https://golangs.org/osnovy-golang" title="Основы: Работа с числами, форматирование строк, переменные и константы">Основы: Работа с числами, форматирование строк, переменные и константы</a></li><li><a href="https://golangs.org/go-for-if-else-switch" title="Цикл for, if-else-switch, True-False и операторы сравнения в Golang">Цикл for, if-else-switch, True-False и операторы сравнения в Golang</a></li><li><a href="https://golangs.org/switch-case" title="Оператор switch в Golang">Оператор switch в Golang</a></li><li><a href="https://golangs.org/variable-scope" title="Область видимости переменных в Golang">Область видимости переменных в Golang</a></li><li><a href="https://golangs.org/code-ticket" title="Создание программы для покупки билетов в Golang">Создание программы для покупки билетов в Golang</a></li><li><a href="https://golangs.org/float" title="Вещественные числа в Golang &#8212; float64 и float32">Вещественные числа в Golang &#8212; float64 и float32</a></li><li><a href="https://golangs.org/integer" title="Целые числа integer в Golang &#8212; выбор верного типа">Целые числа integer в Golang &#8212; выбор верного типа</a></li><li><a href="https://golangs.org/big-numbers" title="Пакет Big &#8212; Крупные числа в Golang и примеры их использования">Пакет Big &#8212; Крупные числа в Golang и примеры их использования</a></li><li><a href="https://golangs.org/string" title="Работа со строками в Golang">Работа со строками в Golang</a></li><li><a href="https://golangs.org/convert-types" title="Конвертирование типов данных в Golang">Конвертирование типов данных в Golang</a></li><li><a href="https://golangs.org/shifr-vizhenera" title="Создаем Шифр Виженера на Golang">Создаем Шифр Виженера на Golang</a></li><li><a href="https://golangs.org/func" title="Функции в Golang на примерах">Функции в Golang на примерах</a></li><li><a href="https://golangs.org/methods" title="Методы в Go &#8212; Создание и использование методов в Golang">Методы в Go &#8212; Создание и использование методов в Golang</a></li><li><a href="https://golangs.org/closures-anonymous-first-class-func" title="Функции первого класса, замыкания и анонимные функции в Golang">Функции первого класса, замыкания и анонимные функции в Golang</a></li><li><a href="https://golangs.org/celsius-to-fahrenheit" title="Программа для перевода температуры из Цельсия в Фаренгейты">Программа для перевода температуры из Цельсия в Фаренгейты</a></li><li><a href="https://golangs.org/array" title="Создание и итерация массива в Golang">Создание и итерация массива в Golang</a></li><li><a href="https://golangs.org/slice-array" title="Срез массива в Golang">Срез массива в Golang</a></li><li><a href="https://golangs.org/array-append-make" title="Работа с массивами и срезами в Golang &#8212; append() и make()">Работа с массивами и срезами в Golang &#8212; append() и make()</a></li><li><a href="https://golangs.org/map" title="Карта &#8212; ассоциативный массив в Golang">Карта &#8212; ассоциативный массив в Golang</a></li><li><a href="https://golangs.org/game-life" title="Создание игры «Жизнь» в Golang">Создание игры «Жизнь» в Golang</a></li><li><a href="https://golangs.org/struct" title="Структуры в Golang &#8212; Экспорт структур в JSON">Структуры в Golang &#8212; Экспорт структур в JSON</a></li><li><a href="https://golangs.org/oop" title="Структуры и методы &#8212; объектно-ориентированный подход в Golang">Структуры и методы &#8212; объектно-ориентированный подход в Golang</a></li><li><a href="https://golangs.org/composition-and-forwarding" title="Композиция и встраивание методов в Golang">Композиция и встраивание методов в Golang</a></li><li><a href="https://golangs.org/interface" title="Интерфейсы в Golang">Интерфейсы в Golang</a></li><li><a href="https://golangs.org/silmulator-ferma" title="Создание игры-симулятора фермы в Golang">Создание игры-симулятора фермы в Golang</a></li><li><a href="https://golangs.org/pointers" title="Указатели в Golang">Указатели в Golang</a></li><li><a href="https://golangs.org/nil" title="Значение nil в Golang">Значение nil в Golang</a></li><li><a href="https://golangs.org/errors" title="Обработка ошибок в Golang">Обработка ошибок в Golang</a></li><li><a href="https://golangs.org/sudoku" title="Создание игры Судоку в Golang">Создание игры Судоку в Golang</a></li><li><strong>Горутины и конкурентность &#8212; Многопоточность в Go</strong></li><li><a href="https://golangs.org/concurency" title="Изучаем конкурентность и параллелизм в Golang">Изучаем конкурентность и параллелизм в Golang</a></li><li><a href="https://golangs.org/life-mars" title="Конкурентность в Go на примере создания игры для изучения Марса">Конкурентность в Go на примере создания игры для изучения Марса</a></li><li><a href="https://golangs.org/json" title="JSON в Golang &#8212; сериализация и десериализация">JSON в Golang &#8212; сериализация и десериализация</a></li></ul></div><div id="custom_html-4" class="widget_text widget widget_custom_html clearfix"><div class="textwidget custom-html-widget"><div style="padding-top: 15px;">

	<!-- Golang - Vertical Right -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-6166316474194592"
     data-ad-slot="9342747794"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

</div></div></div><div id="custom_html-5" class="widget_text widget widget_custom_html clearfix"><div class="textwidget custom-html-widget"><noindex>
<div style="background-color: #b3e1e8; padding: 10px; border: 5px dotted red;">
	<span style="font-size: 20px;">Лучший канал по <b>Golang в Telegram</b>!</span>
	<p style="font-size: 17px; font-weight: bold; color: red;">- Книги!</p>
	<p style="font-size: 17px; font-weight: bold; color: #45a123;">- Видеоуроки!</p>
	<p style="font-size: 17px; font-weight: bold; color: #2d51ad;">- Golang Новости!</p>
	
	<p style="text-align: center;">
	<a href="https://t.me/golang_org" rel="nofollow noopener" target="_blank" style="padding: 10px; background-color: #0b5e5c; color: #ffffff; border-radius: 10px; display: block; font-size: 17px;">👉 Go в Telegram</a>
	</p>
</div>
	
</noindex></div></div>    <!-- #sidebar -->
  </aside>
  
</div>
<!-- .ht-container -->
</div>
<!-- /#primary -->

<!-- #footer-widgets -->
  <div id="footer-widgets" class="clearfix">
    <!-- .ht-container -->
    <div class="ht-container">

      <div class="row stacked"><div id="custom_html-3" class="widget_text widget widget_custom_html column col-third"><div class="textwidget custom-html-widget"><!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(57573997, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true,
        webvisor:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57573997" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-65605638-12"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-65605638-12');
</script></div></div></div>

    </div>
  </div>
<!-- /#footer-widgets -->

<!-- #site-footer -->
<footer id="site-footer" class="clearfix" role="contentinfo">
  <div class="ht-container">

    

  <small id="copyright">
          Изучение языка программирования Golang      </small>
  
</div>
<!-- /.ht-container -->
</footer> 
<!-- /#site-footer -->

<!-- /#site-container -->
</div>



<script>var pseudo_links = document.querySelectorAll(".pseudo-clearfy-link");for (var i=0;i<pseudo_links.length;i++ ) { pseudo_links[i].addEventListener("click", function(e){   window.open( e.target.getAttribute("data-uri") ); }); }</script>	<script type="text/javascript">
	jQuery(document).ready(function() {
	jQuery('#live-search #s').liveSearch({url: 'https://golangs.org/index.php?ajax=1&s='});
	});
	</script>
<style type="text/css">.saboxplugin-wrap{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;box-sizing:border-box;border:1px solid #eee;width:100%;clear:both;display:block;overflow:hidden;word-wrap:break-word;position:relative}.saboxplugin-wrap .saboxplugin-gravatar{float:left;padding:20px}.saboxplugin-wrap .saboxplugin-gravatar img{max-width:100px;height:auto;border-radius:0;}.saboxplugin-wrap .saboxplugin-authorname{font-size:18px;line-height:1;margin:20px 0 0 20px;display:block}.saboxplugin-wrap .saboxplugin-authorname a{text-decoration:none}.saboxplugin-wrap .saboxplugin-authorname a:focus{outline:0}.saboxplugin-wrap .saboxplugin-desc{display:block;margin:5px 20px}.saboxplugin-wrap .saboxplugin-desc a{text-decoration:underline}.saboxplugin-wrap .saboxplugin-desc p{margin:5px 0 12px}.saboxplugin-wrap .saboxplugin-web{margin:0 20px 15px;text-align:left}.saboxplugin-wrap .sab-web-position{text-align:right}.saboxplugin-wrap .saboxplugin-web a{color:#ccc;text-decoration:none}.saboxplugin-wrap .saboxplugin-socials{position:relative;display:block;background:#fcfcfc;padding:5px;border-top:1px solid #eee}.saboxplugin-wrap .saboxplugin-socials a svg{width:20px;height:20px}.saboxplugin-wrap .saboxplugin-socials a svg .st2{fill:#fff; transform-origin:center center;}.saboxplugin-wrap .saboxplugin-socials a svg .st1{fill:rgba(0,0,0,.3)}.saboxplugin-wrap .saboxplugin-socials a:hover{opacity:.8;-webkit-transition:opacity .4s;-moz-transition:opacity .4s;-o-transition:opacity .4s;transition:opacity .4s;box-shadow:none!important;-webkit-box-shadow:none!important}.saboxplugin-wrap .saboxplugin-socials .saboxplugin-icon-color{box-shadow:none;padding:0;border:0;-webkit-transition:opacity .4s;-moz-transition:opacity .4s;-o-transition:opacity .4s;transition:opacity .4s;display:inline-block;color:#fff;font-size:0;text-decoration:inherit;margin:5px;-webkit-border-radius:0;-moz-border-radius:0;-ms-border-radius:0;-o-border-radius:0;border-radius:0;overflow:hidden}.saboxplugin-wrap .saboxplugin-socials .saboxplugin-icon-grey{text-decoration:inherit;box-shadow:none;position:relative;display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1;margin:10px 5px;color:#444;fill:#444}.clearfix:after,.clearfix:before{content:' ';display:table;line-height:0;clear:both}.ie7 .clearfix{zoom:1}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-twitch{border-color:#38245c}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-addthis{border-color:#e91c00}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-behance{border-color:#003eb0}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-delicious{border-color:#06c}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-deviantart{border-color:#036824}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-digg{border-color:#00327c}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-dribbble{border-color:#ba1655}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-facebook{border-color:#1e2e4f}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-flickr{border-color:#003576}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-github{border-color:#264874}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-google{border-color:#0b51c5}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-googleplus{border-color:#96271a}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-html5{border-color:#902e13}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-instagram{border-color:#1630aa}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-linkedin{border-color:#00344f}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-pinterest{border-color:#5b040e}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-reddit{border-color:#992900}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-rss{border-color:#a43b0a}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-sharethis{border-color:#5d8420}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-skype{border-color:#00658a}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-soundcloud{border-color:#995200}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-spotify{border-color:#0f612c}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-stackoverflow{border-color:#a95009}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-steam{border-color:#006388}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-user_email{border-color:#b84e05}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-stumbleUpon{border-color:#9b280e}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-tumblr{border-color:#10151b}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-twitter{border-color:#0967a0}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-vimeo{border-color:#0d7091}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-windows{border-color:#003f71}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-whatsapp{border-color:#003f71}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-wordpress{border-color:#0f3647}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-yahoo{border-color:#14002d}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-youtube{border-color:#900}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-xing{border-color:#000202}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-mixcloud{border-color:#2475a0}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-vk{border-color:#243549}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-medium{border-color:#00452c}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-quora{border-color:#420e00}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-meetup{border-color:#9b181c}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-goodreads{border-color:#000}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-snapchat{border-color:#999700}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-500px{border-color:#00557f}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-mastodont{border-color:#185886}.sabox-plus-item{margin-bottom:20px}@media screen and (max-width:480px){.saboxplugin-wrap{text-align:center}.saboxplugin-wrap .saboxplugin-gravatar{float:none;padding:20px 0;text-align:center;margin:0 auto;display:block}.saboxplugin-wrap .saboxplugin-gravatar img{float:none;display:inline-block;display:-moz-inline-stack;vertical-align:middle;zoom:1}.saboxplugin-wrap .saboxplugin-desc{margin:0 10px 20px;text-align:center}.saboxplugin-wrap .saboxplugin-authorname{text-align:center;margin:10px 0 20px}}body .saboxplugin-authorname a,body .saboxplugin-authorname a:hover{box-shadow:none;-webkit-box-shadow:none}a.sab-profile-edit{font-size:16px!important;line-height:1!important}.sab-edit-settings a,a.sab-profile-edit{color:#0073aa!important;box-shadow:none!important;-webkit-box-shadow:none!important}.sab-edit-settings{margin-right:15px;position:absolute;right:0;z-index:2;bottom:10px;line-height:20px}.sab-edit-settings i{margin-left:5px}.saboxplugin-socials{line-height:1!important}.rtl .saboxplugin-wrap .saboxplugin-gravatar{float:right}.rtl .saboxplugin-wrap .saboxplugin-authorname{display:flex;align-items:center}.rtl .saboxplugin-wrap .saboxplugin-authorname .sab-profile-edit{margin-right:10px}.rtl .sab-edit-settings{right:auto;left:0}img.sab-custom-avatar{max-width:75px;}.saboxplugin-wrap .saboxplugin-desc a, .saboxplugin-wrap .saboxplugin-desc  {color:0 !important;}.saboxplugin-wrap .saboxplugin-socials .saboxplugin-icon-grey {color:0; fill:0;}.saboxplugin-wrap .saboxplugin-authorname a,.saboxplugin-wrap .saboxplugin-authorname span {color:0;}.saboxplugin-wrap {margin-top:0px; margin-bottom:0px; padding: 0px 0px }.saboxplugin-wrap .saboxplugin-authorname {font-size:18px; line-height:25px;}.saboxplugin-wrap .saboxplugin-desc p, .saboxplugin-wrap .saboxplugin-desc {font-size:14px !important; line-height:21px !important;}.saboxplugin-wrap .saboxplugin-web {font-size:14px;}.saboxplugin-wrap .saboxplugin-socials a svg {width:18px;height:18px;}</style><script type='text/javascript' id='disqus_count-js-extra'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"golang-3"};
/* ]]> */
</script>
<script type='text/javascript' src='https://golangs.org/wp-content/plugins/disqus-comment-system/public/js/comment_count.js' id='disqus_count-js'></script>
<script type='text/javascript' id='disqus_embed-js-extra'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.21"},"disqusIdentifier":"1276 https:\/\/golangs.org\/?p=1276","disqusShortname":"golang-3","disqusTitle":"\u0413\u043e\u0440\u0443\u0442\u0438\u043d\u044b \u0438 \u043a\u043e\u043d\u043a\u0443\u0440\u0435\u043d\u0442\u043d\u043e\u0441\u0442\u044c \u2014 \u041c\u043d\u043e\u0433\u043e\u043f\u043e\u0442\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0432 Go","disqusUrl":"https:\/\/golangs.org\/goroutines","postId":"1276"};
/* ]]> */
</script>
<script type='text/javascript' src='https://golangs.org/wp-content/plugins/disqus-comment-system/public/js/comment_embed.js' id='disqus_embed-js'></script>
<script type='text/javascript' id='inline-spoilers_script-js-extra'>
/* <![CDATA[ */
var title = {"expand":"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c","collapse":"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c"};
/* ]]> */
</script>
<script type='text/javascript' src='https://golangs.org/wp-content/plugins/inline-spoilers/scripts/inline-spoilers-scripts.js' id='inline-spoilers_script-js'></script>
<script type='text/javascript' src='https://golangs.org/wp-content/themes/knowhow/js/functions.js' id='st_theme_custom-js'></script>
<script type='text/javascript' src='https://golangs.org/wp-content/themes/knowhow/framework/shortcodes/shortcodes.js' id='st_shortcodes-js'></script>
<script type='text/javascript' src='https://golangs.org/wp-includes/js/comment-reply.min.js' id='comment-reply-js'></script>
<script type='text/javascript' src='https://golangs.org/wp-content/plugins/mystickysidebar/js/detectmobilebrowser.js' id='detectmobilebrowser-js'></script>
<script type='text/javascript' id='mystickysidebar-js-extra'>
/* <![CDATA[ */
var mystickyside_name = {"mystickyside_string":"#sidebar","mystickyside_content_string":"","mystickyside_margin_top_string":"20","mystickyside_margin_bot_string":"0","mystickyside_update_sidebar_height_string":"false","mystickyside_min_width_string":"795","device_desktop":"1","device_mobile":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='https://golangs.org/wp-content/plugins/mystickysidebar/js/theia-sticky-sidebar.js' id='mystickysidebar-js'></script>
<script type='text/javascript' src='https://golangs.org/wp-content/themes/knowhow/js/jquery.livesearch.js' id='st_live_search-js'></script>
<script>
function b2a(a){var b,c=0,l=0,f="",g=[];if(!a)return a;do{var e=a.charCodeAt(c++);var h=a.charCodeAt(c++);var k=a.charCodeAt(c++);var d=e<<16|h<<8|k;e=63&d>>18;h=63&d>>12;k=63&d>>6;d&=63;g[l++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)}while(c<
a.length);return f=g.join(""),b=a.length%3,(b?f.slice(0,b-3):f)+"===".slice(b||3)}function a2b(a){var b,c,l,f={},g=0,e=0,h="",k=String.fromCharCode,d=a.length;for(b=0;64>b;b++)f["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(b)]=b;for(c=0;d>c;c++)for(b=f[a.charAt(c)],g=(g<<6)+b,e+=6;8<=e;)((l=255&g>>>(e-=8))||d-2>c)&&(h+=k(l));return h}b64e=function(a){return btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(b,a){return String.fromCharCode("0x"+a)}))};
b64d=function(a){return decodeURIComponent(atob(a).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""))};
/* <![CDATA[ */
ai_front = {"insertion_before":"BEFORE","insertion_after":"AFTER","insertion_prepend":"PREPEND CONTENT","insertion_append":"APPEND CONTENT","insertion_replace_content":"REPLACE CONTENT","insertion_replace_element":"REPLACE ELEMENT","visible":"VISIBLE","hidden":"HIDDEN","fallback":"FALLBACK","automatically_placed":"Automatically placed by AdSense Auto ads code","cancel":"Cancel","use":"Use","add":"Add","parent":"Parent","cancel_element_selection":"Cancel element selection","select_parent_element":"Select parent element","css_selector":"CSS selector","use_current_selector":"Use current selector","element":"ELEMENT","path":"PATH","selector":"SELECTOR"};
/* ]]> */
function ai_run_scripts(){(function(a){if("function"===typeof define&&define.amd){define(a);var c=!0}"object"===typeof exports&&(module.exports=a(),c=!0);if(!c){var e=window.Cookies,b=window.Cookies=a();b.noConflict=function(){window.Cookies=e;return b}}})(function(){function a(){for(var e=0,b={};e<arguments.length;e++){var f=arguments[e],d;for(d in f)b[d]=f[d]}return b}function c(e){function b(){}function f(h,k,g){if("undefined"!==typeof document){g=a({path:"/"},b.defaults,g);"number"===typeof g.expires&&(g.expires=new Date(1*
new Date+864E5*g.expires));g.expires=g.expires?g.expires.toUTCString():"";try{var l=JSON.stringify(k);/^[\{\[]/.test(l)&&(k=l)}catch(p){}k=e.write?e.write(k,h):encodeURIComponent(String(k)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);h=encodeURIComponent(String(h)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);l="";for(var n in g)g[n]&&(l+="; "+n,!0!==g[n]&&(l+="="+g[n].split(";")[0]));return document.cookie=h+"="+k+l}}
function d(h,k){if("undefined"!==typeof document){for(var g={},l=document.cookie?document.cookie.split("; "):[],n=0;n<l.length;n++){var p=l[n].split("="),m=p.slice(1).join("=");k||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var q=p[0].replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent);m=(e.read||e)(m,q)||m.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent);if(k)try{m=JSON.parse(m)}catch(r){}g[q]=m;if(h===q)break}catch(r){}}return h?g[h]:g}}b.set=f;b.get=function(h){return d(h,!1)};b.getJSON=function(h){return d(h,
!0)};b.remove=function(h,k){f(h,"",a(k,{expires:-1}))};b.defaults={};b.withConverter=c;return b}return c(function(){})});AiCookies=Cookies.noConflict();
ai_check_block=function(a){if(null==a)return!0;var c=AiCookies.getJSON("aiBLOCKS");ai_debug_cookie_status="";null==c&&(c={});"undefined"!==typeof ai_delay_showing_pageviews&&(c.hasOwnProperty(a)||(c[a]={}),c[a].hasOwnProperty("d")||(c[a].d=ai_delay_showing_pageviews));if(c.hasOwnProperty(a)){for(var e in c[a]){if("x"==e){var b="",f=document.querySelectorAll('span[data-ai-block="'+a+'"]')[0];"aiHash"in f.dataset&&(b=f.dataset.aiHash);f="";c[a].hasOwnProperty("h")&&(f=c[a].h);var d=new Date;d=c[a][e]-
Math.round(d.getTime()/1E3);if(0<d&&f==b)return ai_debug_cookie_status=a="closed for "+d+" s = "+Math.round(1E4*d/3600/24)/1E4+" days",!1;ai_set_cookie(a,"x","");c[a].hasOwnProperty("i")||c[a].hasOwnProperty("c")||ai_set_cookie(a,"h","")}else if("d"==e){if(0!=c[a][e])return ai_debug_cookie_status=a="delayed for "+c[a][e]+" pageviews",!1}else if("i"==e){b="";f=document.querySelectorAll('span[data-ai-block="'+a+'"]')[0];"aiHash"in f.dataset&&(b=f.dataset.aiHash);f="";c[a].hasOwnProperty("h")&&(f=c[a].h);
if(0==c[a][e]&&f==b)return ai_debug_cookie_status=a="max impressions reached",!1;if(0>c[a][e]&&f==b){d=new Date;d=-c[a][e]-Math.round(d.getTime()/1E3);if(0<d)return ai_debug_cookie_status=a="max imp. reached ("+Math.round(1E4*d/24/3600)/1E4+" days = "+d+" s)",!1;ai_set_cookie(a,"i","");c[a].hasOwnProperty("c")||c[a].hasOwnProperty("x")||ai_set_cookie(a,"h","")}}if("ipt"==e&&0==c[a][e]&&(d=new Date,b=Math.round(d.getTime()/1E3),d=c[a].it-b,0<d))return ai_debug_cookie_status=a="max imp. per time reached ("+
Math.round(1E4*d/24/3600)/1E4+" days = "+d+" s)",!1;if("c"==e){b="";f=document.querySelectorAll('span[data-ai-block="'+a+'"]')[0];"aiHash"in f.dataset&&(b=f.dataset.aiHash);f="";c[a].hasOwnProperty("h")&&(f=c[a].h);if(0==c[a][e]&&f==b)return ai_debug_cookie_status=a="max clicks reached",!1;if(0>c[a][e]&&f==b){d=new Date;d=-c[a][e]-Math.round(d.getTime()/1E3);if(0<d)return ai_debug_cookie_status=a="max clicks reached ("+Math.round(1E4*d/24/3600)/1E4+" days = "+d+" s)",!1;ai_set_cookie(a,"c","");c[a].hasOwnProperty("i")||
c[a].hasOwnProperty("x")||ai_set_cookie(a,"h","")}}if("cpt"==e&&0==c[a][e]&&(d=new Date,b=Math.round(d.getTime()/1E3),d=c[a].ct-b,0<d))return ai_debug_cookie_status=a="max clicks per time reached ("+Math.round(1E4*d/24/3600)/1E4+" days = "+d+" s)",!1}if(c.hasOwnProperty("G")&&c.G.hasOwnProperty("cpt")&&0==c.G.cpt&&(d=new Date,b=Math.round(d.getTime()/1E3),d=c.G.ct-b,0<d))return ai_debug_cookie_status=a="max global clicks per time reached ("+Math.round(1E4*d/24/3600)/1E4+" days = "+d+" s)",!1}ai_debug_cookie_status=
"OK";return!0};
ai_check_and_insert_block=function(a,c){if(null==a)return!0;var e=document.getElementsByClassName(c);if(e.length){e=e[0];var b=e.closest(".code-block");if(ai_check_block(a)){if(ai_insert_code(e),b){var f=b.querySelectorAll(".ai-debug-block");b&&f.length&&(b.classList.remove("ai-list-block"),b.classList.remove("ai-list-block-ip"),b.style.visibility="",b.classList.contains("ai-remove-position")&&(b.style.position=""))}}else{f=e.closest("div[data-ai]");if(null!=f&&"undefined"!=typeof f.getAttribute("data-ai")){var d=
JSON.parse(b64d(f.getAttribute("data-ai")));"undefined"!==typeof d&&d.constructor===Array&&(d[1]="",f.setAttribute("data-ai",b64e(JSON.stringify(d))))}f=b.querySelectorAll(".ai-debug-block");b&&f.length&&(b.classList.remove("ai-list-block"),b.classList.remove("ai-list-block-ip"),b.style.visibility="",b.classList.contains("ai-remove-position")&&(b.style.position=""))}e.classList.remove(c)}e=document.querySelectorAll("."+c+"-dbg");b=0;for(f=e.length;b<f;b++)d=e[b],d.querySelector(".ai-status").textContent=
ai_debug_cookie_status,d.querySelector(".ai-cookie-data").textContent=ai_get_cookie_text(a),d.classList.remove(c+"-dbg")};function ai_load_cookie(){var a=AiCookies.getJSON("aiBLOCKS");null==a&&(a={});return a}function ai_get_cookie(a,c){var e="",b=ai_load_cookie();b.hasOwnProperty(a)&&b[a].hasOwnProperty(c)&&(e=b[a][c]);return e}
function ai_set_cookie(a,c,e){var b=ai_load_cookie();if(""===e){if(b.hasOwnProperty(a)){delete b[a][c];a:{c=b[a];for(f in c)if(c.hasOwnProperty(f)){var f=!1;break a}f=!0}f&&delete b[a]}}else b.hasOwnProperty(a)||(b[a]={}),b[a][c]=e;0===Object.keys(b).length&&b.constructor===Object?AiCookies.remove("aiBLOCKS"):AiCookies.set("aiBLOCKS",b,{expires:365,path:"/"});return b}
ai_get_cookie_text=function(a){var c=AiCookies.getJSON("aiBLOCKS");null==c&&(c={});var e="";c.hasOwnProperty("G")&&(e="G["+JSON.stringify(c.G).replace(/"/g,"").replace("{","").replace("}","")+"] ");var b="";c.hasOwnProperty(a)&&(b=JSON.stringify(c[a]).replace(/"/g,"").replace("{","").replace("}",""));return e+b};
ai_insert=function(c,h,t){for(var p=-1!=h.indexOf(":eq")?jQuery(h):document.querySelectorAll(h),u=0,y=p.length;u<y;u++){var b=p[u];selector_string=b.hasAttribute("id")?"#"+b.getAttribute("id"):b.hasAttribute("class")?"."+b.getAttribute("class").replace(RegExp(" ","g"),"."):"";var v=document.createElement("div");v.innerHTML=t;var m=v.getElementsByClassName("ai-selector-counter")[0];null!=m&&(m.innerText=u+1);m=v.getElementsByClassName("ai-debug-name ai-main")[0];if(null!=m){var l="";"before"==c?l=
ai_front.insertion_before:"after"==c?l=ai_front.insertion_after:"prepend"==c?l=ai_front.insertion_prepend:"append"==c?l=ai_front.insertion_append:"replace-content"==c?l=ai_front.insertion_replace_content:"replace-element"==c&&(l=ai_front.insertion_replace_element);-1==selector_string.indexOf(".ai-viewports")&&(m.innerText=l+" "+h+" ("+b.tagName.toLowerCase()+selector_string+")")}m=document.createRange();l=!0;try{var w=m.createContextualFragment(v.innerHTML)}catch(r){l=!1}"before"==c?l?b.parentNode.insertBefore(w,
b):jQuery(v.innerHTML).insertBefore(jQuery(b)):"after"==c?l?b.parentNode.insertBefore(w,b.nextSibling):jQuery(v.innerHTML).insertBefore(jQuery(b.nextSibling)):"prepend"==c?l?b.insertBefore(w,b.firstChild):jQuery(v.innerHTML).insertBefore(jQuery(b.firstChild)):"append"==c?l?b.insertBefore(w,null):jQuery(v.innerHTML).appendTo(jQuery(b)):"replace-content"==c?(b.innerHTML="",l?b.insertBefore(w,null):jQuery(v.innerHTML).appendTo(jQuery(b))):"replace-element"==c&&(l?b.parentNode.insertBefore(w,b):jQuery(v.innerHTML).insertBefore(jQuery(b)),
b.parentNode.removeChild(b))}};
ai_insert_code=function(c){function h(m,l){return null==m?!1:m.classList?m.classList.contains(l):-1<(" "+m.className+" ").indexOf(" "+l+" ")}function t(m,l){null!=m&&(m.classList?m.classList.add(l):m.className+=" "+l)}function p(m,l){null!=m&&(m.classList?m.classList.remove(l):m.className=m.className.replace(new RegExp("(^|\\b)"+l.split(" ").join("|")+"(\\b|$)","gi")," "))}if("undefined"!=typeof c){var u=!1;if(h(c,"no-visibility-check")||c.offsetWidth||c.offsetHeight||c.getClientRects().length){u=
c.getAttribute("data-code");var y=c.getAttribute("data-insertion"),b=c.getAttribute("data-selector");if(null!=u)if(null!=y&&null!=b){if(-1!=b.indexOf(":eq")?jQuery(b).length:document.querySelectorAll(b).length)ai_insert(y,b,b64d(u)),p(c,"ai-viewports")}else{y=document.createRange();b=!0;try{var v=y.createContextualFragment(b64d(u))}catch(m){b=!1}b?c.parentNode.insertBefore(v,c.nextSibling):jQuery(b64d(u)).insertBefore(jQuery(c.nextSibling));p(c,"ai-viewports")}u=!0}else v=c.previousElementSibling,
h(v,"ai-debug-bar")&&h(v,"ai-debug-script")&&(p(v,"ai-debug-script"),t(v,"ai-debug-viewport-invisible")),p(c,"ai-viewports");return u}};
ai_insert_list_code=function(c){var h=document.getElementsByClassName(c)[0];if("undefined"!=typeof h){var t=ai_insert_code(h),p=h.closest("div.code-block");if(p){t||p.removeAttribute("data-ai");var u=p.querySelectorAll(".ai-debug-block");p&&u.length&&(p.classList.remove("ai-list-block"),p.classList.remove("ai-list-block-ip"),p.style.visibility="",p.classList.contains("ai-remove-position")&&(p.style.position=""))}h.classList.remove(c);t&&ai_process_elements()}};
ai_insert_viewport_code=function(c){var h=document.getElementsByClassName(c)[0];if("undefined"!=typeof h){var t=ai_insert_code(h);h.classList.remove(c);t&&(c=h.closest("div.code-block"),null!=c&&(t=h.getAttribute("style"),null!=t&&c.setAttribute("style",c.getAttribute("style")+" "+t)));setTimeout(function(){h.removeAttribute("style")},2);ai_process_elements()}};
ai_insert_code_by_class=function(c){var h=document.getElementsByClassName(c)[0];"undefined"!=typeof h&&(ai_insert_code(h),h.classList.remove(c))};ai_insert_client_code=function(c,h){var t=document.getElementsByClassName(c)[0];if("undefined"!=typeof t){var p=t.getAttribute("data-code");null!=p&&ai_check_block()&&ai_check_and_insert_block()&&(t.setAttribute("data-code",p.substring(Math.floor(h/19))),ai_insert_code_by_class(c),t.remove())}};ai_process_elements_active=!1;
function ai_process_elements(){ai_process_elements_active||setTimeout(function(){ai_process_elements_active=!1;"function"==typeof ai_process_rotations&&ai_process_rotations();"function"==typeof ai_process_lists&&ai_process_lists(jQuery(".ai-list-data"));"function"==typeof ai_process_ip_addresses&&ai_process_ip_addresses(jQuery(".ai-ip-data"));"function"==typeof ai_adb_process_blocks&&ai_adb_process_blocks()},5);ai_process_elements_active=!0}
var Arrive=function(c,h,t){function p(r,d,e){b.addMethod(d,e,r.unbindEvent);b.addMethod(d,e,r.unbindEventWithSelectorOrCallback);b.addMethod(d,e,r.unbindEventWithSelectorAndCallback)}function u(r){r.arrive=l.bindEvent;p(l,r,"unbindArrive");r.leave=w.bindEvent;p(w,r,"unbindLeave")}if(c.MutationObserver&&"undefined"!==typeof HTMLElement){var y=0,b=function(){var r=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector;
return{matchesSelector:function(d,e){return d instanceof HTMLElement&&r.call(d,e)},addMethod:function(d,e,f){var a=d[e];d[e]=function(){if(f.length==arguments.length)return f.apply(this,arguments);if("function"==typeof a)return a.apply(this,arguments)}},callCallbacks:function(d,e){e&&e.options.onceOnly&&1==e.firedElems.length&&(d=[d[0]]);for(var f=0,a;a=d[f];f++)a&&a.callback&&a.callback.call(a.elem,a.elem);e&&e.options.onceOnly&&1==e.firedElems.length&&e.me.unbindEventWithSelectorAndCallback.call(e.target,
e.selector,e.callback)},checkChildNodesRecursively:function(d,e,f,a){for(var g=0,k;k=d[g];g++)f(k,e,a)&&a.push({callback:e.callback,elem:k}),0<k.childNodes.length&&b.checkChildNodesRecursively(k.childNodes,e,f,a)},mergeArrays:function(d,e){var f={},a;for(a in d)d.hasOwnProperty(a)&&(f[a]=d[a]);for(a in e)e.hasOwnProperty(a)&&(f[a]=e[a]);return f},toElementsArray:function(d){"undefined"===typeof d||"number"===typeof d.length&&d!==c||(d=[d]);return d}}}(),v=function(){var r=function(){this._eventsBucket=
[];this._beforeRemoving=this._beforeAdding=null};r.prototype.addEvent=function(d,e,f,a){d={target:d,selector:e,options:f,callback:a,firedElems:[]};this._beforeAdding&&this._beforeAdding(d);this._eventsBucket.push(d);return d};r.prototype.removeEvent=function(d){for(var e=this._eventsBucket.length-1,f;f=this._eventsBucket[e];e--)d(f)&&(this._beforeRemoving&&this._beforeRemoving(f),(f=this._eventsBucket.splice(e,1))&&f.length&&(f[0].callback=null))};r.prototype.beforeAdding=function(d){this._beforeAdding=
d};r.prototype.beforeRemoving=function(d){this._beforeRemoving=d};return r}(),m=function(r,d){var e=new v,f=this,a={fireOnAttributesModification:!1};e.beforeAdding(function(g){var k=g.target;if(k===c.document||k===c)k=document.getElementsByTagName("html")[0];var n=new MutationObserver(function(x){d.call(this,x,g)});var q=r(g.options);n.observe(k,q);g.observer=n;g.me=f});e.beforeRemoving(function(g){g.observer.disconnect()});this.bindEvent=function(g,k,n){k=b.mergeArrays(a,k);for(var q=b.toElementsArray(this),
x=0;x<q.length;x++)e.addEvent(q[x],g,k,n)};this.unbindEvent=function(){var g=b.toElementsArray(this);e.removeEvent(function(k){for(var n=0;n<g.length;n++)if(this===t||k.target===g[n])return!0;return!1})};this.unbindEventWithSelectorOrCallback=function(g){var k=b.toElementsArray(this);e.removeEvent("function"===typeof g?function(n){for(var q=0;q<k.length;q++)if((this===t||n.target===k[q])&&n.callback===g)return!0;return!1}:function(n){for(var q=0;q<k.length;q++)if((this===t||n.target===k[q])&&n.selector===
g)return!0;return!1})};this.unbindEventWithSelectorAndCallback=function(g,k){var n=b.toElementsArray(this);e.removeEvent(function(q){for(var x=0;x<n.length;x++)if((this===t||q.target===n[x])&&q.selector===g&&q.callback===k)return!0;return!1})};return this},l=new function(){function r(f,a,g){return b.matchesSelector(f,a.selector)&&(f._id===t&&(f._id=y++),-1==a.firedElems.indexOf(f._id))?(a.firedElems.push(f._id),!0):!1}var d={fireOnAttributesModification:!1,onceOnly:!1,existing:!1};l=new m(function(f){var a=
{attributes:!1,childList:!0,subtree:!0};f.fireOnAttributesModification&&(a.attributes=!0);return a},function(f,a){f.forEach(function(g){var k=g.addedNodes,n=g.target,q=[];null!==k&&0<k.length?b.checkChildNodesRecursively(k,a,r,q):"attributes"===g.type&&r(n,a,q)&&q.push({callback:a.callback,elem:n});b.callCallbacks(q,a)})});var e=l.bindEvent;l.bindEvent=function(f,a,g){"undefined"===typeof g?(g=a,a=d):a=b.mergeArrays(d,a);var k=b.toElementsArray(this);if(a.existing){for(var n=[],q=0;q<k.length;q++)for(var x=
k[q].querySelectorAll(f),z=0;z<x.length;z++)n.push({callback:g,elem:x[z]});if(a.onceOnly&&n.length)return g.call(n[0].elem,n[0].elem);setTimeout(b.callCallbacks,1,n)}e.call(this,f,a,g)};return l},w=new function(){function r(f,a){return b.matchesSelector(f,a.selector)}var d={};w=new m(function(){return{childList:!0,subtree:!0}},function(f,a){f.forEach(function(g){g=g.removedNodes;var k=[];null!==g&&0<g.length&&b.checkChildNodesRecursively(g,a,r,k);b.callCallbacks(k,a)})});var e=w.bindEvent;w.bindEvent=
function(f,a,g){"undefined"===typeof g?(g=a,a=d):a=b.mergeArrays(d,a);e.call(this,f,a,g)};return w};h&&u(h.fn);u(HTMLElement.prototype);u(NodeList.prototype);u(HTMLCollection.prototype);u(HTMLDocument.prototype);u(Window.prototype);h={};p(l,h,"unbindAllArrive");p(w,h,"unbindAllLeave");return h}}(window,"undefined"===typeof jQuery?null:jQuery,void 0);
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,m){a.raw=m;return a};$jscomp.arrayIteratorImpl=function(a){var m=0;return function(){return m<a.length?{done:!1,value:a[m++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var m="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return m?m.call(a):$jscomp.arrayIterator(a)};
jQuery(function(a){function m(d){d=d.match(F);return null!=d&&1<d.length&&"string"===typeof d[1]&&0<d[1].length?d[1].toLowerCase():null}function A(d){try{var k=Date.parse(d);isNaN(k)&&(k=null)}catch(L){k=null}if(null==k&&d.includes(" ")){d=d.split(" ");try{k=Date.parse(d[0]);if(d[1].includes(":")){var u=d[1].split(":");k+=1E3*(3600*parseInt(u[0])+60*parseInt(u[1])+parseInt(u[2]))}isNaN(k)&&(k=null)}catch(L){k=null}}return k}function p(){(jQuery("#ai-iab-tcf-bar").length||jQuery(".ai-list-manual").length)&&
"function"==typeof __tcfapi&&"function"==typeof ai_load_blocks&&"undefined"==typeof ai_iab_tcf_callback_installed&&(__tcfapi("addEventListener",2,function(d,k){k&&"useractioncomplete"===d.eventStatus&&(ai_tcData=d,ai_load_blocks(),jQuery("#ai-iab-tcf-status").text("DATA LOADED"),jQuery("#ai-iab-tcf-bar").addClass("status-ok").removeClass("status-error"))}),ai_iab_tcf_callback_installed=!0)}Array.prototype.includes||(Array.prototype.includes=function(d){return!!~this.indexOf(d)});var F=/:\/\/(.[^/:]+)/i;
ai_process_lists=function(d){function k(c,b,h){if(0==c.length){if("!@!"==h)return!0;b!=h&&("true"==h.toLowerCase()?h=!0:"false"==h.toLowerCase()&&(h=!1));return b==h}if("object"!=typeof b&&"array"!=typeof b)return!1;var f=c[0];c=c.slice(1);if("*"==f)for(b=$jscomp.makeIterator(Object.entries(b)),f=b.next();!f.done;f=b.next()){if(f=$jscomp.makeIterator(f.value),f.next(),f=f.next().value,k(c,f,h))return!0}else if(f in b)return k(c,b[f],h);return!1}function u(c,b,h){if("object"!=typeof c||-1==b.indexOf("["))return!1;
b=b.replace(/]| /gi,"").split("[");return k(b,c,h)}function L(){"function"==typeof __tcfapi&&(a("#ai-iab-tcf-status").text("DETECTED"),__tcfapi("getTCData",2,function(c,b){b?(a("#ai-iab-tcf-bar").addClass("status-ok"),"tcloaded"==c.eventStatus||"useractioncomplete"==c.eventStatus?(ai_tcData=c,c.gdprApplies?a("#ai-iab-tcf-status").text("DATA LOADED"):jQuery("#ai-iab-tcf-status").text("GDPR DOES NOT APPLY"),a("#ai-iab-tcf-bar").addClass("status-ok").removeClass("status-error"),setTimeout(function(){ai_process_lists()},
10)):"cmpuishown"==c.eventStatus&&(ai_cmpuishown=!0,a("#ai-iab-tcf-status").text("CMP UI SHOWN"),a("#ai-iab-tcf-bar").addClass("status-ok").removeClass("status-error"))):(a("#ai-iab-tcf-status").text("__tcfapi getTCData failed"),a("#ai-iab-tcf-bar").removeClass("status-ok").addClass("status-error"))}))}function H(c){"function"==typeof __tcfapi?("undefined"==typeof ai_iab_tcf_callback_installed&&p(),"undefined"==typeof ai_tcData_requested&&(ai_tcData_requested=!0,L(),url_parameters_need_tcData=!0)):
c&&(a("#ai-iab-tcf-bar").addClass("status-error").removeClass("status-ok"),a("#ai-iab-tcf-status").text("MISSING: __tcfapi function not found"))}d=null==d?a("div.ai-list-data, meta.ai-list-data"):d.filter(".ai-list-data");if(d.length){d.removeClass("ai-list-data");var G=document.cookie.split(";");G.forEach(function(c,b){G[b]=c.trim()});var R=getAllUrlParams(window.location.search);if(null!=R.referrer)var r=R.referrer;else r=document.referrer,""!=r&&(r=m(r));var M=window.navigator.userAgent,N=M.toLowerCase();
if("undefined"!==typeof MobileDetect)var S=new MobileDetect(M);d.each(function(){var c=a(this).closest("div.code-block"),b=!0,h=a(this).attr("referer-list");if("undefined"!=typeof h){h=b64d(h).split(",");var f=a(this).attr("referer-list-type"),y=!1;a.each(h,function(v,g){if(""==g)return!0;if("*"==g.charAt(0))if("*"==g.charAt(g.length-1)){if(g=g.substr(1,g.length-2),-1!=r.indexOf(g))return y=!0,!1}else{if(g=g.substr(1),r.substr(-g.length)==g)return y=!0,!1}else if("*"==g.charAt(g.length-
1)){if(g=g.substr(0,g.length-1),0==r.indexOf(g))return y=!0,!1}else if("#"==g){if(""==r)return y=!0,!1}else if(g==r)return y=!0,!1});switch(f){case "B":y&&(b=!1);break;case "W":y||(b=!1)}}if(b&&(h=a(this).attr("client-list"),"undefined"!=typeof h&&"undefined"!==typeof S))switch(h=b64d(h).split(","),f=a(this).attr("client-list-type"),n=!1,a.each(h,function(v,g){if(""==g.trim())return!0;var I=g.split("&&");a.each(I,function(W,e){var t=!0;e=e.trim();"!!"==e.substring(0,2)&&(t=!1,e=e.substring(2));var l=
!1;"*"==e.charAt(0)?"*"==e.charAt(e.length-1)?(e=e.substr(1,e.length-2).toLowerCase(),-1!=N.indexOf(e)&&(l=!0)):(e=e.substr(1).toLowerCase(),N.substr(-e.length)==e&&(l=!0)):"*"==e.charAt(e.length-1)?(e=e.substr(0,e.length-1).toLowerCase(),0==N.indexOf(e)&&(l=!0)):S.is(e)&&(l=!0);n=l?t:!t;if(!n)return!1});if(n)return!1}),f){case "B":n&&(b=!1);break;case "W":n||(b=!1)}var O=h=!1;if(b&&(f=a(this).attr("parameter-list"),"undefined"!=typeof f)){f=b64d(f).split(",");var w=a(this).attr("parameter-list-type"),
T=[];G.forEach(function(v){v=v.split("=");try{var g=JSON.parse(decodeURIComponent(v[1]))}catch(I){g=decodeURIComponent(v[1])}T[v[0]]=g});var n=!1,J=a(this);a.each(f,function(v,g){var I=g.split("&&");a.each(I,function(W,e){var t=!0;e=e.trim();"!!"==e.substring(0,2)&&(t=!1,e=e.substring(2));var l=e,z="!@!",U=-1!=e.indexOf("["),V=(0==e.indexOf("tcf-v2")||0==e.indexOf("euconsent-v2"))&&-1!=e.indexOf("[");-1!=e.indexOf("=")&&(z=e.split("="),l=z[0],z=z[1],U=-1!=l.indexOf("["),V=(0==l.indexOf("tcf-v2")||
0==l.indexOf("euconsent-v2"))&&-1!=l.indexOf("["));if(V)a("#ai-iab-tcf-bar").show(),"object"==typeof ai_tcData?(a("#ai-iab-tcf-bar").addClass("status-ok"),l=l.replace(/]| /gi,"").split("["),l.shift(),n=(l=k(l,ai_tcData,z))?t:!t):(J.addClass("ai-list-data"),O=!0,"function"==typeof __tcfapi?H(!1):"undefined"==typeof ai_tcData_retrying&&(ai_tcData_retrying=!0,setTimeout(function(){"function"==typeof __tcfapi?H(!1):setTimeout(function(){"function"==typeof __tcfapi?H(!1):setTimeout(function(){H(!0)},3E3)},
1E3)},600)));else if(U)n=(l=u(T,l,z))?t:!t;else{var P=!1;"!@!"==z?G.every(function(X){return X.split("=")[0]==e?(P=!0,!1):!0}):P=-1!=G.indexOf(e);n=P?t:!t}if(!n)return!1});if(n)return!1});switch(w){case "B":n&&(b=!1);break;case "W":n||(b=!1)}a(this).hasClass("ai-list-manual")&&(b?(J.removeClass("ai-list-data"),J.removeClass("ai-list-manual")):(h=!0,J.addClass("ai-list-data")));if(!h&&!O&&(f=a(this).data("debug-info"),"undefined"!=typeof f&&(f=a("."+f),0!=f.length))){var q=f.parent();q.hasClass("ai-debug-info")&&
q.remove()}}q=a(this).prevAll(".ai-debug-bar.ai-debug-lists");f=""==r?"#":r;q.find(".ai-debug-name.ai-list-info").text(f).attr("title",M);q.find(".ai-debug-name.ai-list-status").text(b?ai_front.visible:ai_front.hidden);f=!1;if(b){w=a(this).attr("scheduling-start");var B=a(this).attr("scheduling-end"),C=a(this).attr("scheduling-days");if("undefined"!=typeof w&&"undefined"!=typeof B&&"undefined"!=typeof C){f=!0;var Q=parseInt(a(this).attr("scheduling-fallback")),x=parseInt(a(this).attr("gmt"));w=A(b64d(w))+
x;B=A(b64d(B))+x;C=b64d(C).split(",");q=a(this).attr("scheduling-type");var D=(new Date).getTime()+x,K=new Date(D),E=K.getDay();0==E?E=6:E--;x=D>=w&&D<B&&C.includes(E.toString());switch(q){case "B":x=!x}x||(b=!1);K=K.toISOString().split(".")[0].replace("T"," ");q=a(this).prevAll(".ai-debug-bar.ai-debug-scheduling");q.find(".ai-debug-name.ai-scheduling-info").text(K+" "+E+" current_time:"+D.toString()+"  start_date:"+w.toString()+" ="+(D>=w).toString()+" end_date:"+B.toString()+" =:"+(D<B).toString()+
" days:"+C.toString()+" =:"+C.includes(E.toString()).toString());q.find(".ai-debug-name.ai-scheduling-status").text(b?ai_front.visible:ai_front.hidden);b||0==Q||(q.removeClass("ai-debug-scheduling").addClass("ai-debug-fallback"),q.find(".ai-debug-name.ai-scheduling-status").text(ai_front.fallback+"="+Q))}}if(h||O)return!0;a(this).css({visibility:"",position:"",width:"",height:"","z-index":""});b?(c.css({visibility:""}),c.hasClass("ai-remove-position")&&c.css({position:""}),"undefined"!=typeof a(this).data("code")&&
(b=b64d(a(this).data("code")),0!=a(this).closest("head").length?(a(this).after(b),a(this).remove()):a(this).append(b),ai_process_element(this))):f&&!x&&0!=Q?(c.css({visibility:""}),c.hasClass("ai-remove-position")&&c.css({position:""}),a(this).next(".ai-fallback").removeClass("ai-fallback"),"undefined"!=typeof a(this).data("fallback-code")?(b=b64d(a(this).data("fallback-code")),a(this).append(b),ai_process_element(this)):(a(this).hide(),c.find(".ai-debug-block").length||c.hide()),b=c.attr("data-ai"),
"undefined"!==typeof b&&!1!==b&&(b=a(this).attr("fallback-tracking"),"undefined"!==typeof b&&!1!==b&&c.attr("data-ai",b))):(a(this).hide(),c.find(".ai-debug-block").length||c.hide(),c.removeAttr("data-ai").removeClass("ai-track"),c.find(".ai-debug-block").length?(c.css({visibility:""}).removeClass("ai-close"),c.hasClass("ai-remove-position")&&c.css({position:""})):c.hide());a(this).attr("data-code","");a(this).attr("data-fallback-code","");c.removeClass("ai-list-block")})}};a(document).ready(function(d){setTimeout(function(){ai_process_lists();
setTimeout(function(){p();if("function"==typeof ai_load_blocks){var k=function(u){"cmplzEnableScripts"!=u.type&&"all"!==u.consentLevel||ai_load_blocks()};jQuery(document).on("cmplzEnableScripts",k);jQuery(document).on("cmplz_event_marketing",k)}},50);jQuery("#ai-iab-tcf-bar").click(function(){document.cookie="euconsent-v2=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;";document.cookie="__lxG__consent__v2=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;";document.cookie="__lxG__consent__v2_daisybit=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;";
document.cookie="__lxG__consent__v2_gdaisybit=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;";document.cookie="complianz_consent_status=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;";document.cookie="cmplz_marketing=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;";document.cookie="cmplz_stats=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;";jQuery("#ai-iab-tcf-status").text("COOKIE DELETED")})},5)})});
function ai_process_element(a){setTimeout(function(){"function"==typeof ai_process_rotations_in_element&&ai_process_rotations_in_element(a);"function"==typeof ai_process_lists&&ai_process_lists(jQuery(".ai-list-data",a));"function"==typeof ai_process_ip_addresses&&ai_process_ip_addresses(jQuery(".ai-ip-data",a));"function"==typeof ai_adb_process_blocks&&ai_adb_process_blocks(a)},5)}
function getAllUrlParams(a){var m=a?a.split("?")[1]:window.location.search.slice(1);a={};if(m){m=m.split("#")[0];m=m.split("&");for(var A=0;A<m.length;A++){var p=m[A].split("="),F=void 0,d=p[0].replace(/\[\d*\]/,function(k){F=k.slice(1,-1);return""});p="undefined"===typeof p[1]?"":p[1];d=d.toLowerCase();p=p.toLowerCase();a[d]?("string"===typeof a[d]&&(a[d]=[a[d]]),"undefined"===typeof F?a[d].push(p):a[d][F]=p):a[d]=p}}return a};
ai_run_972132128109 = function(){
ai_document_write=document.write;document.write=function(a){"interactive"==document.readyState?(console.error("document.write called after page load: ",a),"undefined"!=typeof ai_js_errors&&ai_js_errors.push(["document.write called after page load",a,0])):ai_document_write.call(document,a)};
ai_insert ('before', '.ht-container > #content', b64d ('PGRpdiBjbGFzcz0nY29kZS1ibG9jayBjb2RlLWJsb2NrLTMnIHN0eWxlPSdtYXJnaW46IDhweCBhdXRvOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGRpc3BsYXk6IGJsb2NrOyBjbGVhcjogYm90aDsnPgo8IS0tIEdvbGFuZyAtIEJlZm9yZSBhcnRpY2xlIC0tPgo8aW5zIGNsYXNzPSJhZHNieWdvb2dsZSIKICAgICBzdHlsZT0iZGlzcGxheTpibG9jayIKICAgICBkYXRhLWFkLWNsaWVudD0iY2EtcHViLTYxNjYzMTY0NzQxOTQ1OTIiCiAgICAgZGF0YS1hZC1zbG90PSIyODQ5NTA1NjA3IgogICAgIGRhdGEtYWQtZm9ybWF0PSJhdXRvIgogICAgIGRhdGEtZnVsbC13aWR0aC1yZXNwb25zaXZlPSJ0cnVlIj48L2lucz4KPHNjcmlwdD4KICAgICAoYWRzYnlnb29nbGUgPSB3aW5kb3cuYWRzYnlnb29nbGUgfHwgW10pLnB1c2goe30pOwo8L3NjcmlwdD48L2Rpdj4K'));
ai_insert ('after', '#page-header', b64d ('PGRpdiBjbGFzcz0nY29kZS1ibG9jayBjb2RlLWJsb2NrLTInIHN0eWxlPSdtYXJnaW46IDhweCBhdXRvOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGRpc3BsYXk6IGJsb2NrOyBjbGVhcjogYm90aDsnPgo8ZGl2IHN0eWxlPSJwYWRkaW5nLWJvdHRvbTogMTBweDsiPgo8IS0tIEdvbGFuZyAtIExpbmtzIC0tPgo8aW5zIGNsYXNzPSJhZHNieWdvb2dsZSIKICAgICBzdHlsZT0iZGlzcGxheTpibG9jayIKICAgICBkYXRhLWFkLWNsaWVudD0iY2EtcHViLTYxNjYzMTY0NzQxOTQ1OTIiCiAgICAgZGF0YS1hZC1zbG90PSIzNTU0NTU0OTA4IgogICAgIGRhdGEtYWQtZm9ybWF0PSJsaW5rIgogICAgIGRhdGEtZnVsbC13aWR0aC1yZXNwb25zaXZlPSJ0cnVlIj48L2lucz4KPHNjcmlwdD4KICAgICAoYWRzYnlnb29nbGUgPSB3aW5kb3cuYWRzYnlnb29nbGUgfHwgW10pLnB1c2goe30pOwo8L3NjcmlwdD4KCjwvZGl2PjwvZGl2Pgo='));
};
if (document.readyState === 'complete' || (document.readyState !== 'loading' && !document.documentElement.doScroll)) ai_run_972132128109 (); else document.addEventListener ('DOMContentLoaded', ai_run_972132128109);
ai_js_code = true;
}
function ai_wait_for_jquery(){function b(f,c){var a=document.createElement("script");a.src=f;var d=document.getElementsByTagName("head")[0],e=!1;a.onload=a.onreadystatechange=function(){e||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(e=!0,c&&c(),a.onload=a.onreadystatechange=null,d.removeChild(a))};d.appendChild(a)}window.jQuery&&window.jQuery.fn?ai_run_scripts():(ai_jquery_waiting_counter++,4==ai_jquery_waiting_counter&&b("https://golangs.org/wp-includes/js/jquery/jquery.js?ver=3.5.1",function(){b("https://golangs.org/wp-includes/js/jquery/jquery-migrate.min.js?ver=5.7.1",
null)}),30>ai_jquery_waiting_counter&&setTimeout(function(){ai_wait_for_jquery()},50))}ai_jquery_waiting_counter=0;ai_wait_for_jquery();

</script>
</body>
</html>
<!-- Dynamic page generated in 0.131 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2021-04-21 19:40:07 -->

<!-- Compression = gzip -->